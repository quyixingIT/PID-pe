(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f3be9d8"],{1896:function(t,e,n){},"1b7d":function(t,e,n){"use strict";var s=n("c897"),r=n.n(s);r.a},2087:function(t,e,n){},"45fc":function(t,e,n){"use strict";var s=n("23e7"),r=n("b727").some,o=n("a640"),a=n("ae40"),i=o("some"),l=a("some");s({target:"Array",proto:!0,forced:!i||!l},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f77":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var s=n("1d80"),r=n("5899"),o="["+r+"]",a=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),l=function(t){return function(e){var n=String(s(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5e89":function(t,e,n){var s=n("861d"),r=Math.floor;t.exports=function(t){return!s(t)&&isFinite(t)&&r(t)===t}},7156:function(t,e,n){var s=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&s(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},7329:function(t,e,n){"use strict";var s=n("4f77"),r=n.n(s);r.a},"7d8a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("v-head"),n("v-sidebar"),n("div",{staticClass:"content-box",class:{"content-collapse":t.collapse}},[n("div",{staticClass:"content",staticStyle:{height:"100%"}},[n("transition",{attrs:{name:"move",mode:"out-in"}},[n("keep-alive",{attrs:{include:t.tagsList}},[n("router-view",{key:t.key})],1)],1),n("el-backtop",{attrs:{target:".content"}})],1)])],1)},r=[],o=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"collapse-btn",on:{click:t.collapseChage}},[t.collapse?n("i",{staticClass:"el-icon-s-unfold"}):n("i",{staticClass:"el-icon-s-fold"})]),n("div",{staticClass:"logo"},[t._v("华理自动化控制资产管理平台软件V1.0")]),n("div",{staticClass:"header-right"},[n("div",{staticClass:"header-user-con"},[n("div",{staticClass:"btn-fullscreen",on:{click:t.handleFullScreen}},[n("el-tooltip",{attrs:{effect:"dark",content:t.fullscreen?"取消全屏":"全屏",placement:"bottom"}},[n("i",{staticClass:"el-icon-rank"})])],1),t._m(0),n("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.username)+" "),n("i",{staticClass:"el-icon-caret-bottom"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"changePwd"}},[t._v("修改密码")]),n("el-dropdown-item",{attrs:{divided:"",command:"loginout"}},[t._v("退出登录")])],1)],1)],1)]),n("el-dialog",{attrs:{title:"修改密码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"旧密码",prop:"oldPwd","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.oldPwd,callback:function(e){t.$set(t.ruleForm,"oldPwd",e)},expression:"ruleForm.oldPwd"}})],1),n("el-form-item",{attrs:{label:"新密码",prop:"pass","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"checkPass","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")]),n("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)],1)}),a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-avator"},[s("img",{attrs:{src:n("9f1c")}})])}],i=(n("a9e3"),n("8ba4"),n("2b0e")),l=new i["default"],c=l,u={data:function(){var t=this,e=function(e,n,s){s(),""===n?s(new Error("请输入密码")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),s())},n=function(e,n,s){""===n?s(new Error("请再次输入密码")):n!==t.ruleForm.pass?s(new Error("两次输入密码不一致!")):s()};return{collapse:!1,fullscreen:!1,name:"linxin",message:!1,dialogFormVisible:!1,ruleForm:{pass:"",checkPass:"",age:"",oldPwd:""},rules:{pass:[{validator:e,trigger:"blur"}],checkPass:[{validator:n,trigger:"blur"}]},formLabelWidth:""}},computed:{username:function(){var t=localStorage.getItem("ms_username");return t||this.name}},methods:{previewWeekly:function(t){this.$refs.pdf.previewPDF(Vue.prototype.ApiUrl+"/reports/preview/"+t)},handleCommand:function(t){"loginout"==t?(localStorage.removeItem("ms_username"),localStorage.removeItem("token"),sessionStorage.removeItem("index"),sessionStorage.removeItem("menu"),this.$router.push("/login"),location.reload()):this.dialogFormVisible=!0},submitForm:function(t){var e=localStorage.getItem("ms_username"),n=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;n.$axios.get("UserInfo/updatePassword",{params:{userName:e,oldPwd:n.ruleForm.oldPwd,newPwd:n.ruleForm.pass}}).then((function(t){t.success?(n.$message.success("修改成功"),n.dialogFormVisible=!1,localStorage.removeItem("ms_username"),n.$router.push("/login")):n.$message.error("修改失败")})).catch((function(t){n.$message.error("修改失败")}))}))},resetForm:function(t){this.$refs[t].resetFields()},collapseChage:function(){this.collapse=!this.collapse,c.$emit("collapse",this.collapse)},handleFullScreen:function(){var t=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),this.fullscreen=!this.fullscreen}},mounted:function(){document.body.clientWidth<1500&&this.collapseChage()}},f=u,d=(n("e853"),n("2877")),m=Object(d["a"])(f,o,a,!1,null,"454ef216",null),p=m.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":t.onRoutes,collapse:t.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""},on:{select:t.handleSelect}},[n("MenuTree",{attrs:{"menu-data":t.items}})],1)],1)},g=[],b=(n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.menuData,(function(e){return[e.subs?n("el-submenu",{key:e.index,attrs:{index:e.index}},[n("template",{slot:"title"},[n("i",{class:e.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),n("MenuTree",{attrs:{menuData:e.subs}})],2):n("el-menu-item",{key:e.index,attrs:{index:e.index}},[n("i",{class:e.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]}))],2)}),v=[],w={name:"MenuTree",props:["menuData"],data:function(){return{cdata:[]}},components:{},created:function(){}},F=w,I=(n("7329"),Object(d["a"])(F,b,v,!1,null,"59195a75",null)),C=I.exports,$=n("e7c0"),_={components:{MenuTree:C},data:function(){return{collapse:!1}},computed:{onRoutes:function(){return this.$route.path.replace("/","")},items:{set:function(t){this.$store.commit({type:"getmenu",payload:t})},get:function(){this.$store.state.menu;return this.$store.state.menu}}},mounted:function(){this.readMenu()},created:function(){var t=this,e=(this.$store.state,JSON.parse(localStorage.getItem("menu")));e&&this.$store.commit("SET_ROUTES",e),c.$on("collapse",(function(e){t.collapse=e,c.$emit("collapse-content",e)}))},methods:{handleSelect:function(t,e){sessionStorage.setItem("index",t)},readMenu:function(){var t=this;localStorage.getItem("ms_username");Object($["g"])().then((function(e){console.log(e),t.$store.commit({type:"getmenu",payload:e.viewMenuList}),t.items=t.$store.state.menu})).catch((function(t){console.log(t)}))}}},k=_,S=(n("df1c"),Object(d["a"])(k,h,g,!1,null,"450cbb3e",null)),L=S.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showTags?n("div",{staticClass:"tags"},[n("ul",t._l(t.tagsList,(function(e,s){return n("li",{key:s,staticClass:"tags-li",class:{active:t.isActive(e.path)}},[n("router-link",{staticClass:"tags-li-title",attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" ")]),n("span",{staticClass:"tags-li-icon",on:{click:function(e){return t.closeTags(s)}}},[n("i",{staticClass:"el-icon-close"})])],1)})),0),n("div",{staticClass:"tags-close-box"},[n("el-dropdown",{on:{command:t.handleTags}},[n("el-button",{attrs:{size:"mini",type:"primary"}},[t._v(" 标签选项"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"other"}},[t._v("关闭其他")]),n("el-dropdown-item",{attrs:{command:"all"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},x=[],E=(n("4de4"),n("45fc"),n("a434"),{data:function(){return{tagsList:[]}},methods:{isActive:function(t){return t===this.$route.fullPath},closeTags:function(t){var e=this.tagsList.splice(t,1)[0],n=this.tagsList[t]?this.tagsList[t]:this.tagsList[t-1];n?e.path===this.$route.fullPath&&this.$router.push(n.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var t=this,e=this.tagsList.filter((function(e){return e.path===t.$route.fullPath}));this.tagsList=e},setTags:function(t){var e=this.tagsList.some((function(e){return e.path===t.fullPath}));e||(this.tagsList.length>=8&&this.tagsList.shift(),this.tagsList.push({title:t.meta.title,path:t.fullPath,name:t.matched[1].components.default.name}),console.log(this.tagsList)),c.$emit("tags",this.tagsList)},handleTags:function(t){"other"===t?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(t,e){this.setTags(t)}},created:function(){var t=this;this.setTags(this.$route),c.$on("close_current_tags",(function(){for(var e=0,n=t.tagsList.length;e<n;e++){var s=t.tagsList[e];if(s.path===t.$route.fullPath){e<n-1?t.$router.push(t.tagsList[e+1].path):e>0?t.$router.push(t.tagsList[e-1].path):t.$router.push("/"),t.tagsList.splice(e,1);break}}}))}}),P=E,O=(n("c5f3"),Object(d["a"])(P,y,x,!1,null,null,null)),j=(O.exports,{data:function(){return{tagsList:[],collapse:!1}},computed:{key:function(){return this.$route.fullPath}},components:{vHead:p,vSidebar:L},created:function(){var t=this;c.$on("collapse-content",(function(e){t.collapse=e})),c.$on("tags",(function(e){for(var n=[],s=0,r=e.length;s<r;s++)e[s].name&&n.push(e[s].name);t.tagsList=n}))}}),N=j,T=(n("1b7d"),Object(d["a"])(N,s,r,!1,null,null,null));e["default"]=T.exports},"8ba4":function(t,e,n){var s=n("23e7"),r=n("5e89");s({target:"Number",stat:!0},{isInteger:r})},"8e6e":function(t,e,n){},"9f1c":function(t,e,n){t.exports=n.p+"static/img/hlauto.69f4e9a4.jpg"},a434:function(t,e,n){"use strict";var s=n("23e7"),r=n("23cb"),o=n("a691"),a=n("50c4"),i=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),f=n("ae40"),d=u("splice"),m=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d||!m},{splice:function(t,e){var n,s,u,f,d,m,v=i(this),w=a(v.length),F=r(t,w),I=arguments.length;if(0===I?n=s=0:1===I?(n=0,s=w-F):(n=I-2,s=h(p(o(e),0),w-F)),w+n-s>g)throw TypeError(b);for(u=l(v,s),f=0;f<s;f++)d=F+f,d in v&&c(u,f,v[d]);if(u.length=s,n<s){for(f=F;f<w-s;f++)d=f+s,m=f+n,d in v?v[m]=v[d]:delete v[m];for(f=w;f>w-s+n;f--)delete v[f-1]}else if(n>s)for(f=w-s;f>F;f--)d=f+s-1,m=f+n-1,d in v?v[m]=v[d]:delete v[m];for(f=0;f<n;f++)v[f+F]=arguments[f+2];return v.length=w-s+n,u}})},a9e3:function(t,e,n){"use strict";var s=n("83ab"),r=n("da84"),o=n("94ca"),a=n("6eeb"),i=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),f=n("d039"),d=n("7c73"),m=n("241c").f,p=n("06cf").f,h=n("9bf2").f,g=n("58a8").trim,b="Number",v=r[b],w=v.prototype,F=l(d(w))==b,I=function(t){var e,n,s,r,o,a,i,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+c}for(o=c.slice(2),a=o.length,i=0;i<a;i++)if(l=o.charCodeAt(i),l<48||l>r)return NaN;return parseInt(o,s)}return+c};if(o(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,$=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof $&&(F?f((function(){w.valueOf.call(n)})):l(n)!=b)?c(new v(I(e)),n,$):I(e)},_=s?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)i(v,C=_[k])&&!i($,C)&&h($,C,p(v,C));$.prototype=w,w.constructor=$,a(r,b,$)}},c5f3:function(t,e,n){"use strict";var s=n("2087"),r=n.n(s);r.a},c897:function(t,e,n){},df1c:function(t,e,n){"use strict";var s=n("1896"),r=n.n(s);r.a},e7c0:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"i",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"l",(function(){return i})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"m",(function(){return m})),n.d(e,"k",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"j",(function(){return g}));var s=n("284b");function r(){return Object(s["a"])({url:"/api/Navigation/getNewMenu"})}function o(t){return Object(s["a"])({url:"/api/UserInfo/getUserInfoListByPaged",params:{objStr:t}})}function a(){return Object(s["a"])({url:"/api/RoleInfo/getRoleInfoList"})}function i(t,e){return Object(s["a"])({url:"api/UserInfo/updateUserInfo",params:{userInfoStr:t,str:e}})}function l(t,e){return Object(s["a"])({url:"api/UserInfo/addUserInfo",params:{userInfoStr:t,str:e}})}function c(t){return Object(s["a"])({url:"api/UserInfo/deleteUserInfo",params:{userInfoStr:t}})}function u(){return Object(s["a"])({url:"api/CompanysInfo/getCompanysInfoTree"})}function f(t){return Object(s["a"])({url:"api/CompanysInfo/addCompanysInfo",params:{str:t}})}function d(t){return Object(s["a"])({url:"api/CompanysInfo/deleteCompanysInfo",params:{str:t}})}function m(t){return Object(s["a"])({url:"api/CompanysInfo/updateCompanysInfo",params:{str:t}})}function p(t){return Object(s["a"])({url:"api/LoopInfo/getLoopsInfoList",params:{objStr:t}})}function h(t){return Object(s["a"])({url:"api/LoopInfo/deleteLoopsInfo",params:{loopInfoStr:t}})}function g(t){return Object(s["a"])({url:"api/OperationLog/getOperationLogListByPage",params:{objStr:t}})}},e853:function(t,e,n){"use strict";var s=n("8e6e"),r=n.n(s);r.a}}]);