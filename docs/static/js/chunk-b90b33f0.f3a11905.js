(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b90b33f0"],{"0407":function(t,e,a){"use strict";var n=a("0fc1"),o=a.n(n);o.a},"0788":function(t,e,a){},"0fc1":function(t,e,a){},1148:function(t,e,a){"use strict";var n=a("a691"),o=a("1d80");t.exports="".repeat||function(t){var e=String(o(this)),a="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},1858:function(t,e,a){"use strict";var n=a("8302"),o=a.n(n);o.a},1951:function(t,e,a){},"1b15":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"deviation",staticClass:"deviation",attrs:{id:"deviation"}})},o=[],i=(a("4160"),a("159b"),{components:{},props:["Autodata","title"],data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(){var t=this.$echarts.init(this.$refs.deviation),e=this.Autodata.autoPV,a=this.Autodata.dateTime,n={title:{top:"2%",text:this.title,textStyle:{fontSize:12}},tooltip:{trigger:"axis",transitionDuration:0},grid:{left:"10%",top:"10%",bottom:"10%",right:"0",containLabel:!1},xAxis:{type:"category",data:a,axisTick:{show:!1}},yAxis:[{name:"自相关系数",nameLocation:"center",type:"value",nameGap:50,nameRotate:360,axisTick:{show:!1},splitLine:{lineStyle:{color:"darkgray",type:"dashed"}},nameTextStyle:{color:"darkgray"}}],series:[{name:"自相关系数",data:e,type:"line",showSymbol:!1,itemStyle:{color:"rgb(145,234,254)"},smooth:!0}]};t.setOption(n,!0),window.addEventListener("resize",(function(){return t.resize()}))}},created:function(){},mounted:function(){this.my_charts()}}),r=i,s=(a("4909"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"6c8ee7ff",null);e["default"]=l.exports},"1b9b":function(t,e,a){"use strict";var n=a("c926"),o=a.n(n);o.a},"222b":function(t,e,a){"use strict";var n=a("b034"),o=a.n(n);o.a},2452:function(t,e,a){"use strict";var n=a("1951"),o=a.n(n);o.a},"25f0":function(t,e,a){"use strict";var n=a("6eeb"),o=a("825a"),i=a("d039"),r=a("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&n(RegExp.prototype,s,(function(){var t=o(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in l)?r.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},2738:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.allTableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间",formatter:t.changeCTime}}),a("el-table-column",{attrs:{prop:"UserName",label:"登录名"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ShowEdit?a("el-input",{staticClass:"edit-cell",nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleUpdate(e.$index,e.row)}},model:{value:e.row.UserName,callback:function(a){t.$set(e.row,"UserName",a)},expression:"scope.row.UserName"}}):t._e(),e.row.ShowEdit?t._e():a("span",[t._v(t._s(e.row.UserName))])]}}])}),a("el-table-column",{attrs:{prop:"RoleID",label:"角色"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请选择"},model:{value:e.row.RoleID,callback:function(a){t.$set(e.row,"RoleID",a)},expression:"scope.row.RoleID"}},t._l(t.roleinfolist,(function(t){return a("el-option",{key:t.ID,attrs:{label:t.RoleName,value:t.ID}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"Password",label:"登录密码"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ShowEdit?a("el-input",{staticClass:"edit-cell",attrs:{disabled:t.editDisable},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleUpdate(e.$index,e.row)}},model:{value:e.row.Password,callback:function(a){t.$set(e.row,"Password",a)},expression:"scope.row.Password"}}):t._e(),e.row.ShowEdit?t._e():a("span",[t._v(t._s(e.row.Password))])]}}])}),a("el-table-column",{attrs:{prop:"UpdateTime",label:"最近修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateYMDHMSFormat")(e.row.UpdateTime)))]}}])}),a("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",size:"mini"},on:{click:function(a){return t.addRow(t.allTableData,e)}}},[t._v("新增")])]}},{key:"default",fn:function(e){return[t.showBtn[e.$index]?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return t.handelCancel(e.$index,e.row)}}},[t._v("取消")]):t._e(),t.showBtn[e.$index]?a("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(a){return t.editMenu(e.$index,e.row)}}},[t._v("菜单权限")]):t._e(),t.showBtn[e.$index]?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return t.handleUpdate(e.$index,e.row)}}},[t._v("更新")]):t._e(),t.showBtn[e.$index]?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t.showBtn[e.$index]?t._e():a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row,t.allTableData)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"msg-pagination-container",attrs:{background:t.isBackground,"current-page":t.page,"page-sizes":[10,100],"page-size":t.limit,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"配置菜单权限",visible:t.editMenuFlag,width:"40%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:""},on:{"update:visible":function(e){t.editMenuFlag=e}}},[a("div",[a("el-tree",{ref:"templateTree",attrs:{data:t.treeData,"show-checkbox":"","node-key":"id","default-expand-all":""}})],1),a("div",{staticClass:"buttonStyle"},[a("el-button",{on:{click:function(e){t.editMenuFlag=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])],1)},o=[],i=(a("4de4"),a("4160"),a("a434"),a("159b"),a("e7c0")),r=a("f74b"),s={name:"userinfo",data:function(){return{editDisable:!0,isBackground:!0,data:[],treeData:[],showBtn:[],showEdit:[],addFlag:!1,roleinfolist:[],allTableData:[],limit:5,total:null,page:1,disabled:!0,editMenuFlag:!1,treeParmas:[],treeFlag:!1,formInline:{currentPage:1,pageSize:10}}},mounted:function(){this.userinfolist(),this.getroleinfo()},beforeDestroy:function(){localStorage.removeItem("userinfoData")},methods:{gettreeData:function(){var t=this;Object(r["b"])().then((function(e){console.log(e),t.treeData=e.viewMenuList}))},userinfolist:function(){var t=this,e=JSON.stringify(t.formInline);Object(i["i"])(e).then((function(e){console.log("用户信息"),console.log(e),t.allTableData=e.userInfoList,t.total=e.total,t.formInline.pageSize=e.pageSize,t.currentPage=e.currentPage,localStorage.setItem("userinfoData",JSON.stringify(t.allTableData)),t.items=e.userInfoList})).catch((function(t){console.log(t)}))},handleSizeChange:function(t){this.formInline.currentPage=1,this.formInline.pageSize=t,this.userinfolist(),this.allTableData=this.allTableData.filter((function(e,a){return a<t}))},handleCurrentChange:function(t){this.formInline.currentPage=t,console.log(this.formInline),this.userinfolist()},setPaginations:function(){var t=this;this.total=this.allTableData.length,this.page=1,this.page_size=10,this.data=this.allTableData.filter((function(e,a){return a<t.page_size}))},getroleinfo:function(){var t=this;Object(i["h"])().then((function(e){t.roleinfolist=e.roleInfoList})).catch((function(t){console.log(t)}))},editMenu:function(t,e){this.gettreeData(),this.editMenuFlag=!0},getSimpleCheckedNodes:function(t){var e=[],a=function t(a){var n=a.root?a.root.childNodes:a.childNodes;n.forEach((function(a){a.checked&&e.push(a.data),a.indeterminate&&t(a)}))};return a(t),e},submit:function(){this.editMenuFlag=!1,this.treeFlag=!0,this.treeParmas=this.getSimpleCheckedNodes(this.$refs.templateTree.store),console.log(this.treeParmas)},handleEdit:function(t,e){this.editDisable=!0,e.ShowEdit=1,this.$set(this.showBtn,t,!0),this.disabled=!1},handleDelete:function(t,e,a){var n=this,o=this,r=JSON.stringify(e);console.log(r),1==e.ID?this.$confirm(e.UserName+"为超级管理员，不能删除!!!","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then((function(){})):this.$confirm("此操作将永久删除该用户信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){null==e.UserName||""==e.UserName||void 0==e.UserName||null==e.Password||""==e.Password||void 0==e.Password||null==e.RoleID||""==e.RoleID||void 0==e.RoleID?a.splice(t,1):Object(i["c"])(r).then((function(e){a.splice(t,1),o.$message({type:"success",message:"删除成功!"})})).catch((function(t){o.$message.error("删除失败"),console.log(t)}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},handelCancel:function(t,e){e.ShowEdit=0,this.$set(this.showBtn,t,!1),this.userinfolist(),this.addFlag=!1,this.disabled=!0},handleUpdate:function(t,e){var a=this,n=JSON.stringify(e),o=JSON.stringify(this.treeParmas),r=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes(),s=this;null==e.UserName||""==e.UserName||void 0==e.UserName?this.$alert("登录名不能为空！！！","温馨提示",{confirmButtonText:"确定"}):null==e.RoleID||""==e.RoleID||void 0==e.RoleID?this.$alert("角色不能为空！！！","温馨提示",{confirmButtonText:"确定"}):null==e.Password||""==e.Password||void 0==e.Password?this.$alert("密码不能为空！！！","温馨提示",{confirmButtonText:"确定"}):this.addFlag?this.treeFlag?Object(i["b"])(n,o).then((function(n){if(a.disabled=!0,a.treeFlag=!1,a.addFlag=!1,n.success){s.$message.success(n.msg),e.UpdateTime=r,e.ShowEdit=0;a.$set(s.allTableData,s.allTableData.length-1,e)}else{s.$message.error(n.msg);var o=JSON.parse(localStorage.getItem("userinfoData"));s.allTableData=o}s.$set(s.showBtn,t,!1),console.log(n)})).catch((function(e){s.$message.error("请求失败"),s.$set(s.showBtn,t,!1);var a=JSON.parse(localStorage.getItem("userinfoData"));s.allTableData=a,console.log(e)})):this.$alert("请配置菜单权限！！！","温馨提示",{confirmButtonText:"确定"}).then((function(){})):Object(i["l"])(n,o).then((function(n){if(console.log(n),a.disabled=!0,a.addFlag=!1,a.treeFlag=!1,n.success)s.$message.success(n.msg),e.UpdateTime=r,e.ShowEdit=0;else{s.$message.error(n.msg);var o=JSON.parse(localStorage.getItem("userinfoData"));s.allTableData=o}s.$set(s.showBtn,t,!1)})).catch((function(e){s.$message.error("请求失败"),s.$set(s.showBtn,t,!1);var a=JSON.parse(localStorage.getItem("userinfoData"));s.allTableData=a,console.log(e)}))},addRow:function(t,e){this.editDisable=!1,this.addFlag=!0,this.disabled=!1;var a=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes();t.push({CreateTime:a,UserName:"",RoleID:"",UserEmail:"",Password:"",UserSex:"",UpdateTime:"",ShowEdit:1}),this.$set(this.showBtn,t.length-1,!0)},changeCTime:function(t,e,a,n){if(t.CreateTime){var o=t.CreateTime;o=new Date(o);var i=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),l=o.getHours(),c=o.getMinutes(),u=o.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,i+"-"+r+"-"+s+" "+l+":"+c+":"+u}},changeUTime:function(t,e,a,n){if(t.UpdateTime){var o=t.UpdateTime;o=new Date(o);var i=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),l=o.getHours(),c=o.getMinutes(),u=o.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,i+"-"+r+"-"+s+" "+l+":"+c+":"+u}}}},l=s,c=(a("2452"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=u.exports},"2b7f":function(t,e,a){"use strict";var n=a("e342"),o=a.n(n);o.a},"323d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scatter",staticClass:"scatter",attrs:{id:"scatter"}})},o=[],i={components:{},props:["scatterdata","title"],data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(){var t=this.$echarts.init(this.$refs.scatter),e=this.scatterdata.OPPVValue,a={title:{top:"2%",text:"PV-OP双标图",textStyle:{fontSize:12}},grid:{left:"34%",top:"10%",bottom:"10%",containLabel:!1},xAxis:{name:"OP",type:"value",axisTick:{show:!1},nameTextStyle:{color:"darkgray"},splitLine:{show:!1}},yAxis:{name:"PV",nameLocation:"center",type:"value",nameGap:50,nameRotate:360,axisTick:{show:!1},nameTextStyle:{color:"darkgray"},splitLine:{lineStyle:{type:"dashed"}}},series:[{symbolSize:10,data:e,type:"scatter"}]};t.setOption(a,!0),window.addEventListener("resize",(function(){return t.resize()}))}},created:function(){},mounted:function(){this.my_charts()}},r=i,s=(a("222b"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"3c3fbbd5",null);e["default"]=l.exports},3634:function(t,e,a){},3975:function(t,e,a){"use strict";var n=a("44adf"),o=a.n(n);o.a},"39a9":function(t,e,a){"use strict";var n=a("df7d"),o=a.n(n);o.a},"3ca3":function(t,e,a){"use strict";var n=a("6547").charAt,o=a("69f3"),i=a("7dd0"),r="String Iterator",s=o.set,l=o.getterFor(r);i(String,"String",(function(t){s(this,{type:r,string:String(t),index:0})}),(function(){var t,e=l(this),a=e.string,o=e.index;return o>=a.length?{value:void 0,done:!0}:(t=n(a,o),e.index+=t.length,{value:t,done:!1})}))},"3da0":function(t,e,a){var n={"./404":"5a04","./404.vue":"5a04","./Home":"7d8a","./Home.vue":"7d8a","./appraise":"a7fc","./appraise.vue":"a7fc","./category":"4817","./category.vue":"4817","./companyinfo":"d1f6","./companyinfo.vue":"d1f6","./datasource":"58ae","./datasource.vue":"58ae","./drawer/drawer":"c249","./drawer/drawer.vue":"c249","./echarts/cricle":"ba2b","./echarts/cricle.vue":"ba2b","./echarts/cumulateecharts":"6a7a","./echarts/cumulateecharts.vue":"6a7a","./echarts/cylinder":"55b5","./echarts/cylinder.vue":"55b5","./echarts/deviation":"1b15","./echarts/deviation.vue":"1b15","./echarts/echarts":"90fc","./echarts/echarts.vue":"90fc","./echarts/oprend":"c2ab","./echarts/oprend.vue":"c2ab","./echarts/peresult":"e6f3","./echarts/peresult.vue":"e6f3","./echarts/piancha":"4f7e","./echarts/piancha.vue":"4f7e","./echarts/rend":"d087","./echarts/rend.vue":"d087","./echarts/scatter":"323d","./echarts/scatter.vue":"323d","./echarts/shadowecharts":"953a","./echarts/shadowecharts.vue":"953a","./echarts/table/eltable":"c49c","./echarts/table/eltable.vue":"c49c","./echarts/table/resulttable":"78e1","./echarts/table/resulttable.vue":"78e1","./navigation":"f64a","./navigation.vue":"f64a","./operationlog":"c57b","./operationlog.vue":"c57b","./roleinfo":"dd34","./roleinfo.vue":"dd34","./summarize":"78b4","./summarize.vue":"78b4","./tab1":"ddd4","./tab1.vue":"ddd4","./upload/loopinfo":"e8b6","./upload/loopinfo.vue":"e8b6","./upload/offupload":"7981","./upload/offupload.vue":"7981","./upload/onlineload":"53d6","./upload/onlineload.vue":"53d6","./userinfo":"2738","./userinfo.vue":"2738"};function o(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id="3da0"},"408a":function(t,e,a){var n=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"422d":function(t,e,a){},"44adf":function(t,e,a){},"44e7":function(t,e,a){var n=a("861d"),o=a("c6b6"),i=a("b622"),r=i("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},4721:function(t,e,a){},4817:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticStyle:{height:"4%"}},[a("el-form",{attrs:{inline:!0,model:t.formInline,size:"mini"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerBeginDateBefore},model:{value:t.formInline.endTime,callback:function(e){t.$set(t.formInline,"endTime",e)},expression:"formInline.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.table1Show,expression:"table1Show"}],ref:"tableDiv",staticClass:"divTable",staticStyle:{height:"96%",overflow:"hidden"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","max-height":t.tableHeight,data:t.tableData},on:{"sort-change":t.sortHandle}},[a("el-table-column",{attrs:{prop:"LoopName",label:"回路名","min-width":"8"}}),a("el-table-column",{attrs:{prop:"LoopDescription",label:"描述","min-width":"8"}}),a("el-table-column",{attrs:{prop:"Performance",label:"回路性能","min-width":"10",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return["开环"===e.row.Performance?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[t._v(t._s(e.row.Performance))]):"中"===e.row.Performance?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"warning"}},[t._v(t._s(e.row.Performance))]):"差"===e.row.Performance?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[t._v(t._s(e.row.Performance))]):a("el-tag",{attrs:{effect:"dark",size:"mini",type:"success"}},[t._v(t._s(e.row.Performance))])]}}])}),a("el-table-column",{attrs:{prop:"OperationNum",label:"BDP性能","min-width":"10",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{effect:"dark",size:"mini",type:t._f("getBindStatus")(e.row.OperationNum)}},[t._v(t._s(t._f("getBindText")(e.row.OperationNum)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateTime",label:"评估时间","min-width":"14",formatter:t.dateFormat,sortable:"custom","column-key":"date"}}),a("el-table-column",{attrs:{prop:"Ratio",label:"投用率（%）","min-width":"13",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.Ratio)))])]}}])}),a("el-table-column",{attrs:{prop:"EffectiveServiceFactor",label:"有效投用率（%）","min-width":"15",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.EffectiveServiceFactor)))])]}}])}),a("el-table-column",{attrs:{prop:"SteadyRate",label:"平稳率","min-width":"11",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.SteadyRate)))])]}}])}),a("el-table-column",{attrs:{prop:"OscillationIndex",label:"振荡指数","min-width":"11",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.OscillationIndex)))])]}}])}),a("el-table-column",{attrs:{prop:"ChangeSP",label:"SP操作数","min-width":"11",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.ChangeSP)))])]}}])}),a("el-table-column",{attrs:{prop:"ChangeTotal",label:"总操作数","min-width":"10",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.ChangeTotal)))])]}}])}),a("el-table-column",{attrs:{prop:"TravelOP",label:"OP行程","min-width":"10",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.TravelOP)))])]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"5"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看")])]}}])})],1),a("el-pagination",{staticClass:"msg-pagination-container",attrs:{background:t.isBackground,"current-page":t.formInline.currentPage,"page-sizes":[10,50,100,150],"page-size":t.formInline.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.formInline,"currentPage",e)},"update:current-page":function(e){return t.$set(t.formInline,"currentPage",e)}}})],1),t.table2Show?a("div",{directives:[{name:"scrollBar",rawName:"v-scrollBar"}],staticClass:"divTable",staticStyle:{height:"95%",overflow:"auto",position:"relative"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"LoopName",label:"回路名",width:"180"}}),a("el-table-column",{attrs:{prop:"Description",label:"描述",width:"180"}}),a("el-table-column",{attrs:{prop:"LoopType",label:"回路类型"}}),a("el-table-column",{attrs:{prop:"PV",label:"PV"}}),a("el-table-column",{attrs:{prop:"SP",label:"SP"}}),a("el-table-column",{attrs:{prop:"OP",label:"OP"}}),a("el-table-column",{attrs:{prop:"Mode",label:"回路投用状态"}}),a("el-table-column",{attrs:{prop:"CreateTime",label:"上传时间",formatter:t.changeCTime}})],1),a("el-pagination",{staticClass:"msg-pagination-container",attrs:{background:t.isBackground,"current-page":t.formInline.currentPage,"page-sizes":[10,50,100,150],"page-size":t.formInline.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.formInline,"currentPage",e)},"update:current-page":function(e){return t.$set(t.formInline,"currentPage",e)}}})],1):t._e(),t.drawer?a("drawer",{attrs:{drawerchildren:t.drawer,rowID:t.rowID,title:t.title,describe:t.describe,datetime:t.datetime,performance:t.performance},on:{childFn:t.parentFn,"update:drawerchildren":function(e){t.drawer=e}}}):t._e()],1)},o=[],i=(a("4de4"),a("b680"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("c249")),r=a("9372"),s=a("affb"),l=(a("a7fc"),a("e7c0"),{components:{drawer:i["default"]},data:function(){return{tableHeight:500,isBackground:!0,drawer:!1,title:"",describe:"",datetime:"",performance:"",searchFormField:{stockDate:this.getNowTime()},pickerBeginDateBefore:{disabledDate:function(t){return t.getTime()>Date.now()}},nowDate:"",tableData:[],endTime:"",formInline:{loopType1:"液位",loopType:"",stockDate:this.getNowTime(),startTime:this.daysJian(),endTime:this.getNowTime(),sortName:"",sortType:"",currentPage:1,pageSize:10,index:this.getIndex(),sort:"",order:""},total:null,rowID:1,allTableData:[],objStr:{},flag:!1,table1Show:!1,table2Show:!1}},computed:{},watch:{$route:function(t,e){var a=sessionStorage.getItem("index");this.formInline.index=a,this.tableDatalist()}},methods:{tableDatalist:function(){var t=this,e=JSON.stringify(this.formInline);Object(r["d"])(e).then((function(e){e.IsAssess?(t.table2Show=!1,t.table1Show=!0,t.tableData=e.loopAssessInfoList):(t.table1Show=!1,t.table2Show=!0,t.tableData=e.loopInfoList),t.total=e.total,t.formInline.pageSize=e.pageSize,t.currentPage=e.currentPage,console.log(e)}),(function(t){console.log(t)}))},getIndex:function(){var t=sessionStorage.getItem("index");return t},handleSizeChange:function(t){this.formInline.currentPage=1,this.formInline.pageSize=t,this.tableDatalist(),this.tableData=this.tableData.filter((function(e,a){return a<t}))},handleCurrentChange:function(t){this.formInline.currentPage=t,console.log(this.formInline),this.tableDatalist()},changeCTime:function(t,e,a,n){if(t.CreateTime){var o=t.CreateTime;o=new Date(o);var i=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),l=o.getHours(),c=o.getMinutes(),u=o.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,i+"-"+r+"-"+s+" "+l+":"+c+":"+u}},handleClick:function(t){this.drawer=!0,this.title=t.LoopName,this.describe=t.LoopDescription;var e=this.dateFormat(t);this.datetime=e,this.performance=t.Performance,this.rowID=t.ID},parentFn:function(t){this.drawer=t},onSubmit:function(){console.log(this.formInline.endTime),this.tableDatalist()},getNowTime:function(){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var t=new Date;return t},daysJian:function(){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var t=new Date;t.setDate(t.getDate()-1);var e=t.Format("yyyy-MM-dd"),a=e;return a},dateFormat:function(t){if(t.CreateTime){var e=t.CreateTime;e=new Date(e);var a=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),i=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return n=n<10?"0"+n:n,o=o<10?"0"+o:o,a+"-"+n+"-"+o+" "+i+":"+r+":"+s}},sortHandle:Object(s["a"])((function(t){console.log(t),this.formInline.sort=t.prop;var e="descending";null==t.order?this.formInline.order=e:this.formInline.order=t.order,this.tableDatalist()}),1e3),filterTag:function(t,e){return e.Performance===t}},created:function(){this.getNowTime(),this.daysJian(),this.tableDatalist()},mounted:function(){this.$nextTick((function(){this.tableHeight=window.innerHeight-this.$refs.tableDiv.offsetTop-300;var t=this;window.onresize=function(){t.tableHeight=window.innerHeight-t.$refs.tableDiv.offsetTop-300}}))},filters:{rounding:function(t){return void 0!=t?parseFloat(t.toFixed(2)):t},getBindStatus:function(t){var e={0:"success",1:"danger"};return e[t]},getBindText:function(t){var e={0:"保持",1:"变差"};return e[t]}}}),c=l,u=(a("90bc"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,null,null);e["default"]=d.exports},4909:function(t,e,a){"use strict";var n=a("ca45"),o=a.n(n);o.a},"4d63":function(t,e,a){var n=a("83ab"),o=a("da84"),i=a("94ca"),r=a("7156"),s=a("9bf2").f,l=a("241c").f,c=a("44e7"),u=a("ad6d"),d=a("9f7f"),f=a("6eeb"),h=a("d039"),p=a("69f3").set,m=a("2626"),g=a("b622"),b=g("match"),v=o.RegExp,y=v.prototype,w=/a/g,S=/a/g,x=new v(w)!==w,_=d.UNSUPPORTED_Y,D=n&&i("RegExp",!x||_||h((function(){return S[b]=!1,v(w)!=w||v(S)==S||"/a/i"!=v(w,"i")})));if(D){var C=function(t,e){var a,n=this instanceof C,o=c(t),i=void 0===e;if(!n&&o&&t.constructor===C&&i)return t;x?o&&!i&&(t=t.source):t instanceof C&&(i&&(e=u.call(t)),t=t.source),_&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var s=r(x?new v(t,e):v(t,e),n?this:y,C);return _&&a&&p(s,{sticky:a}),s},P=function(t){t in C||s(C,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},O=l(v),I=0;while(O.length>I)P(O[I++]);y.constructor=C,C.prototype=y,f(o,"RegExp",C)}m("RegExp")},"4f7e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"piancha",staticClass:"piancha",attrs:{id:"piancha"}})},o=[],i={components:{},props:["pianchadata","title"],data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(){var t=this.$echarts.init(this.$refs.piancha),e=this.pianchadata.dateTime,a=this.pianchadata.PVSPError,n={title:{top:"2%",text:"偏差趋势",textStyle:{fontSize:12}},tooltip:{trigger:"axis",transitionDuration:0},grid:{left:"7%",top:"10%",bottom:"10%",right:"0",containLabel:!1},xAxis:{type:"category",data:e,axisTick:{show:!1}},yAxis:[{name:"偏差",nameLocation:"center",type:"value",nameGap:50,nameRotate:360,axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}},nameTextStyle:{color:"darkgray"}}],series:[{name:"偏差",data:a,type:"line",showSymbol:!1,itemStyle:{color:"rgb(145,234,254)"},smooth:!0}]};t.setOption(n,!0),window.addEventListener("resize",(function(){return t.resize()}))}},created:function(){},mounted:function(){this.my_charts()}},r=i,s=(a("7268"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"2f25f692",null);e["default"]=l.exports},"53ca":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}},"53d6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",multiple:!0,limit:t.limitNum,"http-request":t.requestFile,accept:".csv",action:t.uploadURL,"before-upload":t.beforeUploadFile,"on-change":t.fileChange,"on-exceed":t.exceedFile,"on-success":t.handleSuccess,"on-error":t.handleError,"file-list":t.fileList,"on-remove":t.handleRemove,"on-progress":t.progressA}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传CSV文件，且不超过10M")])]),a("br"),a("el-link",{attrs:{href:"http://192.168.1.113:1008/api/LoopInfo/templateDownload?type=onLine"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("下载模板"),a("i",{staticClass:"el-icon-download el-icon--right"})])],1),a("el-button",{attrs:{type:"text"}})],1)},o=[],i=(a("99af"),a("baa5"),a("b0c0"),a("d038")),r={components:{},data:function(){return{limitNum:1e4,fileList:[],fileData:""}},computed:{uploadURL:function(){return"http://localhost:53995/api/LoopInfo/onLineLoop"}},watch:{},methods:{exceedFile:function(t,e){this.$message.warning("只能选择 ".concat(this.limitNum," 个文件，当前共选择了 ").concat(t.length+e.length," 个"))},fileChange:function(t,e){},beforeUploadFile:function(t){console.log("before upload"),console.log(t);var e=t.name.substring(t.name.lastIndexOf(".")+1),a=t.size/1024/1024;"csv"!==e&&this.$message.warning("只能上传后缀是.csv的文件"),a>10&&this.$message.warning("文件大小不得超过10M")},progressA:function(t,e){},handleSuccess:function(t,e,a){this.$message.success("文件上传成功")},handleError:function(t,e,a){this.$message.error("文件上传失败")},uploadFile:function(){},requestFile:function(t){var e=this;this.fileData=new FormData,this.fileData.append("files",t.file);var a={onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.onProgress({percent:a})}};Object(i["b"])(this.fileData,a).then((function(e){console.log(e),e.data.success?t.onSuccess():t.onError()}),(function(t){e.$message.error("连接失败"),console.log(t)}))},handleRemove:function(t){this.$refs.upload.abort(),this.$message({message:"成功移除"+t.name,type:"success"})}},created:function(){},mounted:function(){}},s=r,l=a("2877"),c=Object(l["a"])(s,n,o,!1,null,"16f1415a",null);e["default"]=c.exports},"55b5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"id",staticClass:"content",attrs:{id:t.id}})},o=[],i=(a("a434"),a("53ca")),r={components:{},data:function(){return{}},computed:{},props:["id","title","item"],watch:{item:{handler:function(t,e){t>=0?this.my_charts(t):this.my_charts(e)}}},methods:{my_charts:function(t){if(null==t);else{var e=this.$echarts,a=this.$echarts.init(document.querySelector("#".concat(this.id))),n=[this.title],o=[t],r="#19dfdd",s=80;0==o[0]&&o.splice(0,1,10.1);var l={grid:{top:"20%",left:"-5%",bottom:"5%",right:"5%",containLabel:!0},animation:!1,xAxis:[{type:"category",data:n,axisTick:{alignWithLabel:!0},nameTextStyle:{color:"#82b0ec"},axisLine:{show:!1,lineStyle:{color:"#82b0ec"}},axisLabel:{textStyle:{color:r},margin:30}}],yAxis:[{show:!1,type:"value",axisLabel:{textStyle:{color:"#fff"}},splitLine:{lineStyle:{color:"#0c2c5a"}},axisLine:{show:!1}}],series:[{name:"数据上椭圆",type:"pictorialBar",symbolSize:[s,10],symbolOffset:[0,-6],symbolPosition:"end",z:12,label:{normal:{show:!0,position:"top",fontSize:14,color:r,formatter:function(t,e){return 10.1==t.value?0:t.value}}},color:"#2DB1EF",data:o},{name:"下椭圆",type:"pictorialBar",symbolSize:[s,10],symbolOffset:[0,7],z:12,color:r,data:o},{type:"bar",barWidth:s,barGap:"10%",barCateGoryGap:"10%",itemStyle:{normal:{color:new e.graphic.LinearGradient(0,0,0,.7,[{offset:0,color:"rgba(25,223,221,.7)"},{offset:1,color:"rgba(25,223,221,.3)"}])}},data:o}]};l&&"object"===Object(i["a"])(l)&&(a.setOption(l,!0),window.addEventListener("resize",(function(){a.resize()})),"变差回路个数"==this.title&&a.getZr().on("click",(function(t){var e=[t.offsetX,t.offsetY];if(a.containPixel("grid",e)){var n=a.convertFromPixel({seriesIndex:0},[t.offsetX,t.offsetY])[0];console.log(n),console.log("点击事件")}})))}}},created:function(){},mounted:function(){var t=this.item;this.my_charts(t)}},s=r,l=(a("2b7f"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,"099a3afe",null);e["default"]=c.exports},"58ae":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"控制资产配置",name:"first"}},[a("loopinfo",{ref:"loopinfo",attrs:{dataId:t.dataID},on:{showbox:t.toshow}})],1)],1),a("el-dialog",{attrs:{title:"选择回路信息",visible:t.centerDialogVisible,width:"40%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("div",[a("el-tree",{ref:"templateTree",attrs:{data:t.data,"show-checkbox":"","node-key":"id","check-strictly":!0},on:{"check-change":t.templateCheckChange}})],1),a("div",{staticClass:"buttonStyle"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])],1)},o=[],i=a("7981"),r=a("53d6"),s=a("e8b6"),l=a("f74b"),c={components:{offupload:i["default"],onlineload:r["default"],loopinfo:s["default"]},data:function(){return{activeName:"first",centerDialogVisible:!1,dataID:"",data:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label"}}},computed:{},watch:{},methods:{toshow:function(t){this.centerDialogVisible=t},treeData:function(){var t=this;Object(l["a"])().then((function(e){console.log(e),t.data=e.viewMenuList}))},handleClick:function(t,e){console.log(t,e)},templateCheckChange:function(t,e,a){if(!0===e){this.dataID=t.id;t.id;this.$refs.templateTree.setCheckedKeys([t.id])}else this.dataID=""},submit:function(){this.dataID?(this.centerDialogVisible=!1,this.$refs.loopinfo.btshow=!0,this.$refs.loopinfo.uploadFile(0)):this.$message.error("请选择回路归属")}},created:function(){this.treeData()},mounted:function(){}},u=c,d=(a("850c"),a("2877")),f=Object(d["a"])(u,n,o,!1,null,null,null);e["default"]=f.exports},"59ad":function(t,e,a){"use strict";var n=a("f595"),o=a.n(n);o.a},"5a04":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notfound"},[n("img",{attrs:{src:a("ba72"),alt:""}})])}],i=(a("f42a"),a("2877")),r={},s=Object(i["a"])(r,n,o,!1,null,"76b6c8b5",null);e["default"]=s.exports},"5a05":function(t,e,a){},6934:function(t,e,a){"use strict";var n=a("ed14"),o=a.n(n);o.a},"6a7a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mycharts",staticClass:"mycharts",attrs:{id:"mycharts"}})},o=[],i=a("ade3"),r=a("53ca"),s=Object(i["a"])({components:{},props:["Ydata","data"],data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(){var t=this.$echarts.init(this.$refs.mycharts),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},transitionDuration:0},legend:{data:["优","良","中","差","开环"],top:0,textStyle:{color:"white"}},grid:{top:"10%",left:0,right:"1%",bottom:0,containLabel:!0},textStyle:{color:"white"},xAxis:[{type:"value",axisLine:{lineStyle:{color:"white",width:2}},max:100}],yAxis:[{type:"category",show:!0,axisTick:{show:!1},data:this.Ydata,axisLine:{lineStyle:{color:"white",width:2}}}],series:[{name:"优",type:"bar",stack:"总量",label:{show:!0,position:"insideTop",distance:2},itemStyle:{color:"#06B5D7"},data:this.data[1]},{name:"良",type:"bar",stack:"总量",label:{show:!0,position:"insideTop",distance:2},itemStyle:{color:"#44C0C1"},data:this.data[2]},{name:"中",type:"bar",stack:"总量",barWidth:"40%",label:{show:!0,position:"insideTop",distance:2},itemStyle:{color:"#71C8B1"},data:this.data[3]},{name:"差",type:"bar",stack:"总量",label:{show:!0,position:"insideTop",distance:2},itemStyle:{color:"rgba(255, 25, 0, 1)"},data:this.data[4]},{name:"开环",type:"bar",stack:"总量",label:{show:!0,position:"insideTop",distance:2},itemStyle:{color:"rgba(234, 255, 0, 1)"},data:this.data[5]}]};e&&"object"===Object(r["a"])(e)&&(t.setOption(e,!0),window.addEventListener("resize",(function(){t.resize()})))}},created:function(){},mounted:function(){this.my_charts()}},"watch",{data:{handler:function(t,e){this.my_charts()}}}),l=s,c=(a("3975"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,"b33625a6",null);e["default"]=u.exports},7268:function(t,e,a){"use strict";var n=a("a32a"),o=a.n(n);o.a},7794:function(t,e,a){},"78b4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{staticStyle:{height:"95%","padding-left":"10px"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"总览",name:"first"}},[t.echartsFlag?a("tab1"):t._e()],1),a("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"分类总览",name:"second",lazy:!0}},[a("category")],1)],1)},o=[],i=a("ddd4"),r=a("4817"),s={components:{tab1:i["default"],category:r["default"]},data:function(){return{activeName:"first",echartsFlag:!0}},computed:{},watch:{},methods:{handleClick:function(t,e){console.log(t,e),"分类总览"==t.label?this.echartsFlag=!1:this.echartsFlag=!0}},created:function(){},mounted:function(){}},l=s,c=(a("1858"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=u.exports},"78e1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"指标",prop:"parmarms"}}),a("el-table-column",{attrs:{label:"统计值",prop:"avrege"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.avrege))])]}}])})],1)]],2)},o=[],i=(a("b680"),{components:{},props:["resultdata"],data:function(){return{tableData:[{parmarms:"回路投用率",avrege:parseFloat(this.resultdata.Ratio.toFixed(2))+"%",biao:"15.63",min:"10491.16",max:"10629.97"},{parmarms:"振荡周期(min)",avrege:parseFloat(this.resultdata.OscillationPeriod.toFixed(0)),biao:"0",min:"10560.16",max:"10629.97"},{parmarms:"模式变化总数",avrege:this.resultdata.ChangeMode,biao:"15.63",min:"-69.97",max:"0.97"},{parmarms:"OP行程",avrege:this.resultdata.TravelOP.toFixed(0),biao:"15.63",min:"-69.97",max:"0.97"}]}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},filters:{rounding:function(t){return t.toFixed(0)}}}),r=i,s=a("2877"),l=Object(s["a"])(r,n,o,!1,null,"44824a8e",null);e["default"]=l.exports},7981:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",multiple:!0,limit:t.limitNum,"http-request":t.requestFile,accept:".csv",action:t.uploadURL,"before-upload":t.beforeUploadFile,"on-change":t.fileChange,"on-exceed":t.exceedFile,"on-success":t.handleSuccess,"on-error":t.handleError,"file-list":t.fileList,"on-remove":t.handleRemove,"on-progress":t.progressA}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传CSV文件，且不超过10M")])]),a("br"),a("el-link",{attrs:{href:"http://192.168.1.180:6001/api/LoopInfo/templateDownload?type=offLine"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("下载模板"),a("i",{staticClass:"el-icon-download el-icon--right"})])],1),a("el-button",{attrs:{type:"text"}}),a("div",{staticClass:"tableStyle"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"LoopName",label:"回路名",width:"180"}}),a("el-table-column",{attrs:{prop:"Description",label:"描述",width:"180"}}),a("el-table-column",{attrs:{prop:"Template",label:"模板"}}),a("el-table-column",{attrs:{prop:"LoopType",label:"回路类型"}}),a("el-table-column",{attrs:{prop:"PV",label:"PV"}}),a("el-table-column",{attrs:{prop:"SP",label:"SP"}}),a("el-table-column",{attrs:{prop:"OP",label:"OP"}}),a("el-table-column",{attrs:{prop:"Mode",label:"Mode"}})],1)],1)],1)},o=[],i=(a("99af"),a("baa5"),a("b0c0"),a("d038")),r=(a("f74b"),{components:{},data:function(){return{limitNum:1e4,fileList:[],fileData:"",progressFlag:!0,progressPercent:0,tableData:[{LoopName:"FIC100",Description:"BLOWDOWN CO",Template:"",LoopType:"",PV:"FIC100.PV",SP:"FIC100.SP",OP:"FIC100.OP",Mode:"FIC100.MODE"},{LoopName:"FIC200",Description:"BLOWDOWN RATE",Template:"",LoopType:"",PV:"FIC100.PV",SP:"FIC100.SP",OP:"FIC100.OP",Mode:"FIC100.MODE"},{LoopName:"3B0F003",Description:"SECONDRY AIR F",Template:"StandAlone",LoopType:"Flow",PV:"3B0F003.PV",SP:"3B0F003.SP",OP:"3B0F003.OP",Mode:"3B0F003.MODE"},{LoopName:"FIC100",Description:"BLOWDOWN CO",Template:"",LoopType:"",PV:"FIC100.PV",SP:"FIC100.SP",OP:"FIC100.OP",Mode:"FIC100.MODE"},{LoopName:"FIC100",Description:"BLOWDOWN CO",Template:"",LoopType:"",PV:"FIC100.PV",SP:"FIC100.SP",OP:"FIC100.OP",Mode:"FIC100.MODE"},{LoopName:"FIC100",Description:"BLOWDOWN CO",Template:"",LoopType:"",PV:"FIC100.PV",SP:"FIC100.SP",OP:"FIC100.OP",Mode:"FIC100.MODE"}]}},computed:{uploadURL:function(){return"http://192.168.1.113:1008/api/LoopInfo/offLineLoop"}},watch:{},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""},exceedFile:function(t,e){this.$message.warning("只能选择 ".concat(this.limitNum," 个文件，当前共选择了 ").concat(t.length+e.length," 个"))},fileChange:function(t,e){},beforeUploadFile:function(t){console.log("before upload"),console.log(t);var e=t.name.substring(t.name.lastIndexOf(".")+1),a=t.size/1024/1024;"csv"!==e&&this.$message.warning("只能上传后缀是.csv的文件"),a>10&&this.$message.warning("文件大小不得超过10M")},handleSuccess:function(t,e,a){this.$message.success("文件上传成功")},handleError:function(t,e,a){this.$message.error("文件上传失败")},progressA:function(t,e){},uploadFile:function(){},requestFile:function(t){var e=this;window.localStorage.getItem("token");this.fileData=new FormData,this.fileData.append("files",t.file);var a={onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.onProgress({percent:a})}};Object(i["c"])(this.fileData,a).then((function(e){console.log(e),e.data.success?t.onSuccess():t.onError()}),(function(t){e.$message.error("连接失败"),console.log(t)}))},handleRemove:function(t){this.$refs.upload.abort(),this.$message({message:"成功移除"+t.name,type:"success"})}},created:function(){},mounted:function(){}}),s=r,l=(a("a7e6"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,"0648984d",null);e["default"]=c.exports},"82a0":function(t,e,a){"use strict";var n=a("422d"),o=a.n(n);o.a},8302:function(t,e,a){},"850c":function(t,e,a){"use strict";var n=a("4721"),o=a.n(n);o.a},"90bc":function(t,e,a){"use strict";var n=a("adcb"),o=a.n(n);o.a},"90fc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"id",staticClass:"mycharts",attrs:{id:t.id}})},o=[],i=(a("b0c0"),a("b680"),a("53ca")),r={components:{},props:["id","title","item","dataTime"],data:function(){return{showloading:!1}},computed:{},methods:{my_charts:function(t){if(null==t)console.log("数据为空");else if(0!=t.length){var e=this.$echarts.init(document.querySelector("#".concat(this.id))),a=this.dataTime,n={title:{text:this.title,top:"10%",textStyle:{fontSize:14,color:"white"}},grid:{bottom:"12%"},tooltip:{trigger:"axis",transitionDuration:0,formatter:function(t,e,a){var n=parseFloat(t[0].value.toFixed(2));return t[0].name+"</br>"+t[0].seriesName+":&nbsp&nbsp"+n+"</br>"}},textStyle:{color:"white"},xAxis:[{type:"category",boundaryGap:!1,data:a,axisLine:{lineStyle:{color:"white",width:2}},axisLabel:{showMaxLabel:!0}}],yAxis:[{type:"value",axisLabel:{formatter:"{value} "},axisLine:{lineStyle:{color:"white",width:2}}}],series:[{name:this.title,type:"line",data:this.item}]};n&&"object"===Object(i["a"])(n)&&(e.setOption(n,!0),window.addEventListener("resize",(function(){e.resize()})))}}},created:function(){},mounted:function(){this.my_charts(this.item)},watch:{item:{handler:function(t,e){t?this.my_charts(t):(this.showloading=!0,this.my_charts(e))}}}},s=r,l=(a("99ea"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,"51bd0aef",null);e["default"]=c.exports},9372:function(t,e,a){"use strict";a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return s}));var n=a("284b");function o(t){return Object(n["a"])({url:"/api/LoopAssess/newSummarizeTable",params:{objStr:t}})}function i(t){return Object(n["a"])({url:"/api/LoopAssess/dailyReport",params:{loopAssessID:t}})}function r(t){return Object(n["a"])({url:"/api/LoopAssess/on_OP_PV_SP_DTrend",params:{loopAssessID:t}})}function s(t){return Object(n["a"])({url:"/api/LoopAssess/newSummarize",params:{index:t}})}},9465:function(t,e,a){"use strict";var n=a("5a05"),o=a.n(n);o.a},"953a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"items"},[a("div",{staticClass:"items-top"},[a("div",{ref:"capability",staticClass:"item",attrs:{id:"capability"}}),a("div",{ref:"closeloop",staticClass:"item",attrs:{id:"closeloop"}})]),a("div",{staticClass:"items-bottom"},[a("div",{ref:"bode",staticClass:"item",attrs:{id:"bode"}}),a("div",{ref:"about",staticClass:"item",attrs:{id:"about"}})])])},o=[],i={components:{},data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(t,e){var a=this.$echarts.init(t),n=(this.$echarts,{title:{text:e,textStyle:{fontSize:12},top:"0%"},grid:{left:"10%",top:"20%",bottom:"18%",containLabel:!1},xAxis:{type:"category",boundaryGap:!1},yAxis:{type:"value",boundaryGap:[0,"20%"],axisLine:{show:!1},axisTick:{show:!1}},visualMap:{type:"continuous",show:!1,dimension:0,seriesIndex:0,pieces:[{gt:1,lt:3,color:"rgba(0, 180, 0, 0.5)"},{gt:5,lt:7,color:"rgba(0, 180, 0, 0.5)"}]},series:[{type:"line",smooth:.6,symbol:"none",lineStyle:{color:"green"},markLine:{symbol:["none","none"],label:{show:!1},data:[{xAxis:1},{xAxis:3},{xAxis:5},{xAxis:7}]},areaStyle:{},data:[["2019-10-10",200],["2019-10-12",500],["2019-10-13",500],["2019-10-14",250],["2019-10-15",300],["2019-10-16",450],["2019-10-17",300],["2019-10-18",100]]}]});a.setOption(n,!0),window.addEventListener("resize",(function(){return a.resize()}))}},created:function(){},mounted:function(){var t=this.$refs.capability,e=this.$refs.closeloop,a=this.$refs.bode,n=this.$refs.about;this.my_charts(t,"性能指标"),this.my_charts(e,"闭环脉冲响应序列"),this.my_charts(a,"Bode图"),this.my_charts(n,"残差自相关")}},r=i,s=(a("e94f"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"4bf9e660",null);e["default"]=l.exports},9892:function(t,e,a){"use strict";var n=a("0788"),o=a.n(n);o.a},"99ea":function(t,e,a){"use strict";var n=a("d1be"),o=a.n(n);o.a},a1de:function(t,e,a){"use strict";var n=a("e5e8"),o=a.n(n);o.a},a32a:function(t,e,a){},a7e6:function(t,e,a){"use strict";var n=a("c99b"),o=a.n(n);o.a},a7fc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},o=[],i={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){}},r=i,s=a("2877"),l=Object(s["a"])(r,n,o,!1,null,"1072182b",null);e["default"]=l.exports},adcb:function(t,e,a){},affb:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n=function(t,e){var a=!0;return function(){var n=arguments,o=this;a&&(a=!1,setTimeout((function(){t.apply(o,n),a=!0}),e))}}},b034:function(t,e,a){},b680:function(t,e,a){"use strict";var n=a("23e7"),o=a("a691"),i=a("408a"),r=a("1148"),s=a("d039"),l=1..toFixed,c=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},d=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));n({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,a,n,s,l=i(this),f=o(t),h=[0,0,0,0,0,0],p="",m="0",g=function(t,e){var a=-1,n=e;while(++a<6)n+=t*h[a],h[a]=n%1e7,n=c(n/1e7)},b=function(t){var e=6,a=0;while(--e>=0)a+=h[e],h[e]=c(a/t),a=a%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var a=String(h[t]);e=""===e?a:e+r.call("0",7-a.length)+a}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(e=d(l*u(2,69,1))-69,a=e<0?l*u(2,-e,1):l/u(2,e,1),a*=4503599627370496,e=52-e,e>0){g(0,a),n=f;while(n>=7)g(1e7,0),n-=7;g(u(10,n,1),0),n=e-1;while(n>=23)b(1<<23),n-=23;b(1<<n),g(1,1),b(2),m=v()}else g(0,a),g(1<<-e,0),m=v()+r.call("0",f);return f>0?(s=m.length,m=p+(s<=f?"0."+r.call("0",f-s)+m:m.slice(0,s-f)+"."+m.slice(s-f))):m=p+m,m}})},ba2b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"id",staticClass:"content",attrs:{id:t.id}})},o=[],i=(a("a9e3"),a("d3b7"),a("25f0"),a("53ca")),r={components:{},data:function(){return{timer:null,myCharts:null,screenWidth:document.body.clientWidth,dataArr1:[],dataArr2:[],dataArr3:[]}},computed:{},props:["id","title","item"],watch:{item:{handler:function(t,e){t>=0?this.my_charts(t):this.my_charts(e)}}},methods:{my_charts:function(t){var e=this,a=document.documentElement.clientWidth,n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1920;return t*(a/e)};this.$echarts;this.myCharts=this.$echarts.init(document.querySelector("#".concat(this.id)));var o={title:{text:"回路数",textStyle:{color:"rgba(25,223,221,.7)",fontSize:14},top:"59%",left:"47%"},series:[{type:"pie",zlevel:1,silent:!0,radius:["98%","97%"],hoverAnimation:!1,color:"rgba(88,142,197,0.5)",label:{normal:{show:!1}},labelLine:{normal:{show:!1}},data:[1]},{type:"pie",zlevel:2,silent:!0,radius:["90%","91%"],startAngle:50,hoverAnimation:!1,label:{normal:{show:!1}},labelLine:{normal:{show:!1}},data:this._pie1()},{type:"pie",zlevel:3,silent:!0,radius:["88%","87%"],label:{normal:{show:!1}},labelLine:{normal:{show:!1}},data:this._pie2()},{type:"pie",zlevel:4,silent:!0,radius:["84%","83%"],label:{normal:{show:!1}},labelLine:{normal:{show:!1}},data:this._pie3()},{type:"pie",zlevel:5,silent:!0,radius:["80%","78%"],color:["#fc8d89","#46d3f3","rgba(203,203,203,.2)"],startAngle:50,hoverAnimation:!1,label:{normal:{show:!1}},data:[50,20,40]},{name:"",type:"gauge",splitNumber:30,min:0,max:100,radius:"73%",center:["50%","50%"],startAngle:90,endAngle:-269.9999,axisLine:{show:!1,lineStyle:{width:0,shadowBlur:0,color:[[1,"#0dc2fe"]]}},axisTick:{show:!1,lineStyle:{color:"auto",width:2},length:20,splitNumber:5},splitLine:{show:!0,length:32,lineStyle:{color:"auto"}},axisLabel:{show:!1},pointer:{show:0},detail:{show:0}},{name:"统计",type:"gauge",splitNumber:30,min:0,max:100,radius:"68%",center:["50%","50%"],startAngle:90,endAngle:-269.9999,axisLine:{show:!0,lineStyle:{width:0,shadowBlur:0,color:[[0,"#0dc2fe"],[1,"#0dc2fe"]]}},axisTick:{show:!0,lineStyle:{color:"#0dc2fe",width:2},length:20,splitNumber:5},splitLine:{show:!0,length:20,lineStyle:{color:"#0dc2fe"}},axisLabel:{show:!1},pointer:{show:0},detail:{borderColor:"#fff",shadowColor:"#fff",shadowBlur:2,offsetCenter:[0,"0%"],textStyle:{color:"#fff",fontSize:50},formatter:"{value}"},data:[{name:"",value:t}]},{type:"pie",zlevel:20,silent:!0,radius:["60%","59%"],hoverAnimation:!1,color:"#2dc0c9",data:[1],labelLine:{normal:{show:!1}}},{name:"中间环形图",type:"pie",radius:["55%","45%"],avoidLabelOverlap:!1,hoverAnimation:!1,itemStyle:{normal:{color:"#80ADD2",borderColor:"#3D4268"}},label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:n(30),fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[25,25,25,25,25,25]}]};o&&"object"===Object(i["a"])(o)&&(this.myCharts.setOption(o,!0),window.addEventListener("resize",(function(){e.myCharts.resize()})))},doing:function(){var t=this.myCharts.getOption();t.series[3].startAngle=t.series[3].startAngle-1,this.myCharts.setOption(t)},startTimer:function(){var t=this;t.doing()},stopTimer:function(){},_pie1:function(){for(var t=[],e=0;e<8;e++)t.push({name:(e+1).toString(),value:20,itemStyle:{normal:{color:"rgba(88,142,197,0.4)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}});return t},_pie2:function(){for(var t=[],e=0;e<8;e++)e%2===0?t.push({name:(e+1).toString(),value:25,itemStyle:{normal:{color:"rgba(88,142,197,0.5)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}}):t.push({name:(e+1).toString(),value:20,itemStyle:{normal:{color:"rgba(0,0,0,0)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}});return t},_pie3:function(){for(var t=[],e=0;e<100;e++)e%2===0?t.push({name:(e+1).toString(),value:25,itemStyle:{normal:{color:"rgb(126,190,255)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}}):t.push({name:(e+1).toString(),value:20,itemStyle:{normal:{color:"rgba(0,0,0,0)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}});return t},_pieData:function(t){for(var e=[],a=0;a<5;a++)if(2===a){var n=t[0].unit?25:Number(t[0].value);e.push({name:(a+1).toString(),value:n,itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,1,1,0,[{offset:0,color:"rgb(147,187,216)"},{offset:1,color:"#588ec5"}]),borderWidth:0,borderColor:"rgba(0,0,0,0.4)"}}})}else{var o=t[0].unit?25:(1-Number(t[0].value))/4;e.push({name:(a+1).toString(),value:o,itemStyle:{normal:{color:"rgba(0,0,0,0)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}})}return e}},created:function(){},mounted:function(){this.my_charts(this.item);this.timer=setInterval(this.startTimer,1e3)},beforeDestroy:function(){clearInterval(this.timer)}},s=r,l=(a("39a9"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,"b6aceb1a",null);e["default"]=c.exports},ba72:function(t,e,a){t.exports=a.p+"static/img/404.6b8ae1d0.gif"},baa5:function(t,e,a){var n=a("23e7"),o=a("e58c");n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},c249:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bigContent"},[a("el-drawer",{ref:"workRef",attrs:{title:t.title,size:"70%",visible:t.drawerFlag,direction:"rtl","before-close":t.handleClose},on:{"update:visible":function(e){t.drawerFlag=e}}},[a("div",{staticClass:"drawerContent",attrs:{id:"pdfDom"}},[a("el-tabs",{staticStyle:{height:"100%"},attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{directives:[{name:"scrollBar",rawName:"v-scrollBar"}],staticStyle:{height:"96%",overflow:"auto",position:"relative"},attrs:{label:"资产评估详情",name:"daily"}},[a("div",{staticClass:"contentDra"},[a("div",{staticClass:"contentTile"},[a("div",[a("el-button",{attrs:{type:"text"}},[t._v("回路名称:")]),a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.title))])],1),a("div",[a("el-button",{attrs:{type:"text"}},[t._v("描述:")]),a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.describe))])],1),a("div",[a("el-button",{attrs:{type:"text"}},[t._v("评估时间:")]),a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.datetime))])],1),a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.getPDF()}}},[t._v("导出PDF")])],1),a("div",[a("el-button",{attrs:{type:"text"}},[t._v("综合性能:")]),"优"==t.performance?a("el-button",{staticClass:"button",attrs:{type:"success"}},[t._v("优")]):t._e(),"良"==t.performance?a("el-button",{staticClass:"button",attrs:{type:"success"}},[t._v("良")]):t._e(),"中"==t.performance?a("el-button",{staticClass:"button",attrs:{type:"warning"}},[t._v("中")]):t._e(),"差"==t.performance?a("el-button",{staticClass:"button",attrs:{type:"danger"}},[t._v("差")]):t._e(),"开环"==t.performance?a("el-button",{staticClass:"button",attrs:{type:"danger"}},[t._v("开环")]):t._e()],1)]),a("div",{staticClass:"contentFirst1"},[t.flag2?a("peresult",{attrs:{title:"投用率%",text:"BDP综合评价",bdpdata:t.bdpValue0}}):t._e(),t.flag2?a("peresult",{attrs:{title:"有效投用率%",bdpdata:t.bdpValue1}}):t._e(),t.flag2?a("peresult",{attrs:{title:"平稳率",bdpdata:t.bdpValue2}}):t._e(),t.flag2?a("peresult",{attrs:{title:"振荡指数",bdpdata:t.bdpValue3}}):t._e(),t.flag2?a("peresult",{attrs:{title:"Mode操作数",bdpdata:t.bdpValue4}}):t._e(),t.flag2?a("peresult",{attrs:{title:"SP操作数",bdpdata:t.bdpValue5}}):t._e(),t.flag2?a("peresult",{attrs:{title:"OP操作数",bdpdata:t.bdpValue6}}):t._e(),t.flag2?a("peresult",{attrs:{title:"总操作数",bdpdata:t.bdpValue7}}):t._e(),t.flag2?a("peresult",{attrs:{title:"OP行程",bdpdata:t.bdpValue8}}):t._e()],1),a("div",{staticClass:"contentSceond1"},[t.flag2?a("rend",{attrs:{data:t.opTrend,colors:t.color}}):t._e()],1),a("div",{staticClass:"contentThree"},[t.flag2?a("oprend",{attrs:{title:"OP趋势",data:t.opTrend,dataOP:t.opRend,dateTime:t.opDatetime,colors:t.color}}):t._e()],1),a("div",{staticClass:"contentFour"},[t.flag2?a("deviation",{attrs:{title:"自相关趋势",Autodata:t.opTrend}}):t._e()],1),a("div",{staticClass:"contentFive"},[a("div",{staticClass:"scatter"},[t.flag2?a("scatter",{attrs:{title:"PV-OP双标图",scatterdata:t.opTrend}}):t._e()],1),a("div",{staticClass:"piancha"},[t.flag2?a("piancha",{attrs:{title:"偏差(PV-SP)",pianchadata:t.opTrend}}):t._e()],1)]),a("div",{staticClass:"contentSix"},[a("div",{staticClass:"contentSix1"},[t.flag2?a("eltable",{attrs:{eldata:t.eldata}}):t._e()],1),a("div",{staticClass:"contentSix2"},[t.flag2?a("resulttable",{attrs:{resultdata:t.eldata}}):t._e()],1)])])])],1)],1)])],1)},o=[],i=(a("a9e3"),a("e6f3")),r=a("d087"),s=a("1b15"),l=a("323d"),c=a("953a"),u=a("9372"),d=(a("284b"),a("c49c")),f=a("78e1"),h=a("4f7e"),p=a("c2ab"),m={components:{peresult:i["default"],rend:r["default"],scatter:l["default"],shadowecharts:c["default"],deviation:s["default"],eltable:d["default"],resulttable:f["default"],piancha:h["default"],oprend:p["default"]},props:{drawerchildren:{type:Boolean,default:!1},title:{type:String,default:"rtl"},rowID:{type:Number},describe:{type:String},datetime:{type:String},performance:{type:String}},data:function(){return{htmlTitle:"资产评估详情",activeName:"daily",value1:"",resultData:[],flag1:!1,flag2:!1,opTrend:[],opRend:[],opDatetime:[],drawerFlag:this.drawerchildren,color:this.performance,bdpValue0:[],bdpValue1:[],bdpValue2:[],bdpValue3:[],bdpValue4:[],bdpValue5:[],bdpValue6:[],bdpValue7:[],bdpValue8:[],eldata:null}},computed:{},watch:{},methods:{getPDF:function(){this.htmlTitle=this.title+"评估详情",this.getPdf(this.htmlTitle)},handleClose:function(){this.$emit("childFn",!1)},handleClick:function(t,e){console.log(t,e)},getdayResport:function(t){var e=this;Object(u["b"])(t).then((function(t){console.log(new Date),e.flag2=!0,console.log(t),e.opTrend=t,e.opRend=t.OP,e.opDatetime=t.dateTime;var a=t.bdpValue;e.bdpValue0=a[0],e.bdpValue1=a[1],e.bdpValue2=a[2],e.bdpValue3=a[3],e.bdpValue4=a[4],e.bdpValue5=a[5],e.bdpValue6=a[6],e.bdpValue7=a[7],e.bdpValue8=a[8],e.eldata=t.loopAssessInfo;e.eldata;console.log(new Date)}),(function(t){}))},getTrendData:function(t){var e=this;Object(u["a"])(t).then((function(t){e.flag1=!0}),(function(t){}))}},created:function(){var t=this.rowID;this.getdayResport(t)},mounted:function(){}},g=m,b=(a("f777"),a("2877")),v=Object(b["a"])(g,n,o,!1,null,null,null);e["default"]=v.exports},c2ab:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"oprend",staticClass:"piancha",attrs:{id:"oprend"}})},o=[],i={components:{},props:["data","dataOP","dateTime","colors"],data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(){var t=this.$echarts.init(this.$refs.oprend);this.colors,this.color="#91c7ae";var e=[];0!==this.data.echartStyleListAll.length&&(e=this.data.echartStyleListAll);var a=this.dataOP,n=this.dateTime,o={title:{top:"2%",text:"OP趋势图",textStyle:{fontSize:12}},tooltip:{trigger:"axis",transitionDuration:0},grid:{left:"10%",top:"10%",bottom:"10%",right:"0",containLabel:!1,backgroundColor:this.color,show:!0},xAxis:{type:"category",data:n,axisTick:{show:!1}},yAxis:[{name:"OP",nameLocation:"center",type:"value",nameGap:50,nameRotate:360,axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}},nameTextStyle:{color:"darkgray"}}],series:[{name:"异常数据",type:"line",animation:!1,areaStyle:{normal:{}},lineStyle:{normal:{width:1}},markArea:{silent:!0,data:e}},{name:"OP",data:a,type:"line",showSymbol:!1,itemStyle:{color:"rgb(105,107,1)"},smooth:!0,markArea:{silent:!0,data:[[{yAxis:"2021/3/16 0:00:00"},{yAxis:"2021/3/16 8:31:00"}]]}}]};t.setOption(o,!0),window.addEventListener("resize",(function(){return t.resize()}))}},created:function(){},mounted:function(){this.my_charts()}},r=i,s=(a("1b9b"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"2003ed08",null);e["default"]=l.exports},c49c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"参数",prop:"parmarms"}}),a("el-table-column",{attrs:{label:"平均值",prop:"avrege"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.avrege)))])]}}])}),a("el-table-column",{attrs:{label:"标准差",prop:"biao"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.biao)))])]}}])}),a("el-table-column",{attrs:{label:"最小值",prop:"min"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.min)))])]}}])}),a("el-table-column",{attrs:{label:"最大值",prop:"max"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rounding")(e.row.max)))])]}}])})],1)]],2)},o=[],i=(a("b680"),{components:{},props:["eldata"],data:function(){return{tableData:[{parmarms:"PV",avrege:this.eldata.AveragePV,biao:this.eldata.STDPV,min:this.eldata.MinPV,max:this.eldata.MaxPV},{parmarms:"SP",avrege:this.eldata.AverageSP,biao:this.eldata.STDSP,min:this.eldata.MinSP,max:this.eldata.MaxSP},{parmarms:"OP",avrege:this.eldata.AverageOP,biao:this.eldata.STDOP,min:this.eldata.MinOP,max:this.eldata.MaxOP},{parmarms:"偏差",avrege:this.eldata.AverageErrorPVSP,biao:this.eldata.STDErrorOPSP,min:this.eldata.MinErrorOPSP,max:this.eldata.MaxErrorOPSP}]}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},filters:{rounding:function(t){var e=t.toFixed(0);return-0==e&&(e=0),e}}}),r=i,s=a("2877"),l=Object(s["a"])(r,n,o,!1,null,"5c8864d9",null);e["default"]=l.exports},c57b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticStyle:{height:"4%"}},[a("el-form",{attrs:{inline:!0,model:t.formInline,size:"mini"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerBeginDateBefore},model:{value:t.formInline.endTime,callback:function(e){t.$set(t.formInline,"endTime",e)},expression:"formInline.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1),a("div",{ref:"tableDiv",staticClass:"divTable",staticStyle:{height:"96%",overflow:"hidden"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","max-height":t.tableHeight,data:t.tableData},on:{"sort-change":t.sortHandle}},[a("el-table-column",{attrs:{prop:"UserName",label:"用户","min-width":"8"}}),a("el-table-column",{attrs:{prop:"OperDate",label:"时间","min-width":"8",formatter:t.dateFormat,sortable:"custom"}}),a("el-table-column",{attrs:{prop:"OperName",label:"操作类型","min-width":"8"}}),a("el-table-column",{attrs:{prop:"OperContent",label:"操作内容","min-width":"15"}})],1),a("el-pagination",{staticClass:"msg-pagination-container",attrs:{background:t.isBackground,"current-page":t.formInline.currentPage,"page-sizes":[10,50,100,150],"page-size":t.formInline.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.formInline,"currentPage",e)},"update:current-page":function(e){return t.$set(t.formInline,"currentPage",e)}}})],1)])},o=[],i=(a("4de4"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("e7c0")),r=a("affb"),s={components:{},data:function(){return{tableHeight:500,isBackground:!0,searchFormField:{stockDate:this.getNowTime()},pickerBeginDateBefore:{disabledDate:function(t){return t.getTime()>Date.now()}},nowDate:"",tableData:[],formInline:{startTime:this.daysJian(),endTime:this.getNowTime(),currentPage:1,pageSize:10,sort:"",order:""},total:null,rowID:1,allTableData:[]}},computed:{},watch:{},methods:{tableDatalist:function(){var t=this,e=this.formInline;Object(i["j"])(e).then((function(e){t.tableData=e.operationLogList,t.total=e.total,t.formInline.pageSize=e.pageSize,t.formInline.currentPage=e.currentPage,console.log(e)}),(function(t){console.log(t)}))},onSubmit:function(){var t=this.formInline.endTime;Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var e=new Date;e.setDate(t.getDate()-7);var a=e;this.formInline.startTime=a,this.tableDatalist()},getNowTime:function(){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var t=new Date;return t},daysJian:function(){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var t=new Date;return t.setDate(t.getDate()-7),t},handleSizeChange:function(t){this.formInline.currentPage=1,this.formInline.pageSize=t,this.tableDatalist(),this.tableData=this.tableData.filter((function(e,a){return a<t}))},handleCurrentChange:function(t){this.formInline.currentPage=t,console.log(this.formInline),this.tableDatalist()},dateFormat:function(t){if(t.OperDate){var e=t.OperDate;e=new Date(e);var a=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),i=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return n=n<10?"0"+n:n,o=o<10?"0"+o:o,a+"-"+n+"-"+o+" "+i+":"+r+":"+s}},sortHandle:Object(r["a"])((function(t){console.log(t),this.formInline.sort=t.prop;var e="descending";null==t.order?this.formInline.order=e:this.formInline.order=t.order,this.tableDatalist()}),1e3)},created:function(){},mounted:function(){this.$nextTick((function(){this.tableHeight=window.innerHeight-this.$refs.tableDiv.offsetTop-300;var t=this;window.onresize=function(){t.tableHeight=window.innerHeight-t.$refs.tableDiv.offsetTop-300}})),this.tableDatalist()}},l=s,c=(a("82a0"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=u.exports},c740:function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").findIndex,i=a("44d2"),r=a("ae40"),s="findIndex",l=!0,c=r(s);s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},c926:function(t,e,a){},c99b:function(t,e,a){},ca45:function(t,e,a){},d038:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return s}));var n=a("bc3a"),o=a.n(n);a("4328");function i(t,e){var a=window.localStorage.getItem("token"),n={url:"http://192.168.1.180:6001/api/LoopInfo/offLineLoop",method:"post",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:a}};if(e instanceof Object)for(var i in e)n[i]=e[i];return o()(n)}function r(t,e){var a=window.localStorage.getItem("token"),n={url:"http://192.168.1.180:6001/api/LoopInfo/onLineLoop",method:"post",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:a}};if(e instanceof Object)for(var i in e)n[i]=e[i];return o()(n)}function s(t,e){var a=window.localStorage.getItem("token"),n={url:"http://192.168.1.180:6001/api/LoopInfo/importLoopInfo",method:"post",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:a}};if(e instanceof Object)for(var i in e)n[i]=e[i];return o()(n)}},d087:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"rend",staticClass:"rend",attrs:{id:"rend"}})},o=[],i=(a("4160"),a("159b"),{components:{},props:{data:{type:Object},colors:{type:String}},data:function(){return{color:"#91c7ae"}},computed:{},watch:{},methods:{my_charts:function(){function t(t){var e=0;2===t.length?t.forEach((function(t){t.forEach((function(t){void 0!==t&&""!==t&&e<t&&(e=t)}))})):t.forEach((function(t){void 0!==t&&""!==t&&e<t&&(e=t)}));var a=Math.ceil(e/9.5),n=10*a;return n}function e(t){var e=0;2===t.length?t.forEach((function(t){t.forEach((function(t){void 0!==t&&""!==t&&e>t&&(e=t)}))})):t.forEach((function(t){void 0!==t&&""!==t&&e>t&&(e=t)}));var a=Math.floor(e/10),n=10*a;return n}this.colors,this.color="#91c7ae";var a=[];0!==this.data.echartStyleListAll.length&&(a=this.data.echartStyleListAll);var n=this.$echarts.init(this.$refs.rend),o=(this.$echarts,this.data.OP),i=this.data.SP,r=this.data.PV,s=this.data.dateTime,l=e([i,r]),c=(e(o),t([i,r])),u=(t(o),{title:{top:"2%",text:"PV SP趋势",textStyle:{fontSize:12}},legend:{data:["PV","SP"],left:"0%",icon:"circle",top:"20%",orient:"vertical"},tooltip:{trigger:"axis",transitionDuration:0},grid:{left:"10%",top:"10%",bottom:"10%",right:"0",containLabel:!1,backgroundColor:this.color,show:!0},xAxis:{type:"category",data:s,axisTick:{show:!1}},yAxis:[{name:"SP\n\n PV",nameLocation:"center",type:"value",nameGap:50,nameRotate:360,axisTick:{show:!1},min:l,max:c,splitNumber:5,interval:(c-l)/5,splitLine:{lineStyle:{type:"dashed"}},nameTextStyle:{color:"darkgray"}}],series:[{name:"异常数据",type:"line",animation:!1,areaStyle:{normal:{}},lineStyle:{normal:{width:1}},markArea:{silent:!0,data:a}},{name:"PV",data:r,type:"line",showSymbol:!1,itemStyle:{color:"rgb(10,102,115)"},smooth:!0},{name:"SP",data:i,type:"line",showSymbol:!1,itemStyle:{color:"rgb(15,234,254)"},smooth:!0}]});n.setOption(u,!0),window.addEventListener("resize",(function(){return n.resize()}))}},created:function(){},mounted:function(){this.my_charts()}}),r=i,s=(a("0407"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"038159b1",null);e["default"]=l.exports},d1be:function(t,e,a){},d1f6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"custom-tree-container"},[a("p",{staticStyle:{"padding-left":"10px",color:"aliceblue"}},[t._v("企业资产分布配置")]),a("el-tree",{attrs:{data:t.data,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":t.renderContent,draggable:""}})],1)])},o=[],i=(a("c740"),a("a434"),a("e7c0")),r={data:function(){var t=[{id:1,label:"公司名称",children:[{id:4,label:"工厂名称",children:[{id:9,label:"装置名称1",IsShow:!1},{id:10,label:"装置名称2",IsShow:!1}]}]},{id:2,label:"一级 2",IsShow:!1}];return{editflag:!1,subFlag:0,data:JSON.parse(JSON.stringify(t)),tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],search:""}},created:function(){this.getcompanyinfo()},methods:{getcompanyinfo:function(){var t=this;Object(i["f"])().then((function(e){console.log(e),t.data=e.companysInfoTree}))},renderContent:function(t,e){var a=this,n=e.node,o=e.data;e.store;return 4==o.level?t("span",{class:"custom-tree-node"},[t("span",[n.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(){return a.remove(n,o)}}}),t("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(){return a.alter(n,o)}}}),o.IsShow?t("span",[t("el-input",{attrs:{placeholder:"请输入内容",value:o.label,clear:!0},nativeOn:{change:function(t){return a.onKeyDownchange(t,o)}},on:{input:function(t){return a.Inp(t,o)}}})]):""])]):t("span",{class:"custom-tree-node"},[t("span",[n.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(){return a.append(o)}}}),t("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(){return a.remove(n,o)}}}),t("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(){return a.alter(n,o)}}}),o.IsShow?t("span",[t("el-input",{attrs:{placeholder:"请输入内容",value:o.label,clear:!0},nativeOn:{change:function(t){return a.onKeyDownchange(t,o)}},on:{input:function(t){return a.Inp(t,o)}}})]):""])])},onKeyDownchange:function(t,e){var a=this;if(e.IsShow){var n=JSON.stringify(e);Object(i["m"])(n).then((function(t){t.success?(a.$message.success(t.msg),e.IsShow=!e.IsShow,a.$store.commit({type:"getmenu",payload:t.viewMenu})):(a.$message.error(t.msg),e.IsShow=!e.IsShow)}))}else console.log(node),console.log(e),e.IsShow=!e.IsShow},Inp:function(t,e){e.label=t},alter:function(t,e){var a=this;if(e.IsShow){var n=JSON.stringify(e);Object(i["m"])(n).then((function(t){t.success?(a.$message.success(t.msg),e.IsShow=!e.IsShow,a.$store.commit({type:"getmenu",payload:t.viewMenu})):(a.$message.error(t.msg),e.IsShow=!e.IsShow)}))}else console.log(t),console.log(e),e.IsShow=!e.IsShow},editData:function(t){},append:function(t){var e=this,a=Math.ceil(100*Math.random());this.subFlag=1;var n={id:++a,label:"testtest",level:t.level+1,partentID:t.id,IsShow:!1,children:[]};if(0==t.children.length?(this.$set(t,"children",[]),t.children.push(n)):t.children.push(n),0!=t.children.length){var o=t.children[t.children.length-1];this.subFlag=0;var r=JSON.stringify(o);console.log(r),Object(i["a"])(r).then((function(a){a.success?(t.children[t.children.length-1].id=a.ID,e.$message.success(a.msg),e.$store.commit({type:"getmenu",payload:a.viewMenu}),e.$store.commit("SET_ROUTES",a.routerInfoList)):(t.children.pop(),e.$message.error(a.msg)),console.log(a)}))}},remove:function(t,e){var a=this;this.$confirm("此操作将永久删除该用户信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["e"])(e).then((function(n){if(n.success){a.$store.commit({type:"getmenu",payload:n.viewMenu}),a.subFlag=1;var o=t.parent,i=o.data.children||o.data,r=i.findIndex((function(t){return t.id===e.id}));i.splice(r,1),a.$message.success(n.msg)}else a.$message.error(n.msg)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)}}},s=r,l=(a("9465"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,null,null);e["default"]=c.exports},d28b:function(t,e,a){var n=a("746f");n("iterator")},dd34:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"main"}})])}],i={components:{},data:function(){return{}},computed:{},watch:{},methods:{mycharts:function(){var t,e=document.getElementById("main"),a=this.$echarts.init(e),n=["#91cc75","#ee6666","#fac858"];t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["优","良","中","差","开环"],textStyle:{color:"white"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},series:[{name:"优",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},itemStyle:{color:n[0]},data:[320,302,301,334,390,330,320]},{name:"良",type:"bar",stack:"total",label:{show:!0},itemStyle:{color:n[0]},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]},{name:"中",type:"bar",stack:"total",label:{show:!0},itemStyle:{color:n[0]},emphasis:{focus:"series"},data:[220,182,191,234,290,330,310]},{name:"差",type:"bar",stack:"total",label:{show:!0},itemStyle:{color:n[1]},emphasis:{focus:"series"},data:[150,212,201,154,190,330,410]},{name:"开环",type:"bar",stack:"total",label:{show:!0},itemStyle:{color:n[2]},emphasis:{focus:"series"},data:[820,832,901,934,1290,1330,1320]}]},t&&a.setOption(t)}},created:function(){},mounted:function(){this.mycharts()}},r=i,s=a("2877"),l=Object(s["a"])(r,n,o,!1,null,"ff2cf2ca",null);e["default"]=l.exports},ddb0:function(t,e,a){var n=a("da84"),o=a("fdbc"),i=a("e260"),r=a("9112"),s=a("b622"),l=s("iterator"),c=s("toStringTag"),u=i.values;for(var d in o){var f=n[d],h=f&&f.prototype;if(h){if(h[l]!==u)try{r(h,l,u)}catch(m){h[l]=u}if(h[c]||r(h,c,d),o[d])for(var p in i)if(h[p]!==i[p])try{r(h,p,i[p])}catch(m){h[p]=i[p]}}}},ddd4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scrollBar",rawName:"v-scrollBar"}],staticClass:"contentSum",staticStyle:{overflow:"auto",position:"relative"}},[a("div",{staticClass:"content1"},[a("cylinder",{staticClass:"cylinder1",attrs:{id:"cylinder1",title:"变差回路个数",item:t.operationNum}}),a("cricle",{staticClass:"cylinder2",attrs:{id:"cylinder2",title:"总回路数",item:t.loopsTotal}}),a("cylinder",{staticClass:"cylinder3",attrs:{id:"cylinder3",title:"总操作数",item:t.avgOperationNum}})],1),a("div",{staticClass:"content2"},[t.flag?a("mycharts",{attrs:{id:"echarts1",title:"投用率",item:t.echartsdata1,dataTime:t.axis}}):t._e(),t.flag?a("mycharts",{attrs:{id:"echarts2",title:"总操作数",item:t.echartsdata2,dataTime:t.axis}}):t._e()],1),a("div",{directives:[{name:"scrollBar",rawName:"v-scrollBar"}],staticClass:"content3"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1}},[a("el-table-column",{attrs:{prop:"0",label:"回路类型"}}),a("el-table-column",{attrs:{prop:"1",label:"回路数"}}),a("el-table-column",{attrs:{prop:"2",label:"投用率(%)"}}),a("el-table-column",{attrs:{prop:"3",label:"有效投用率（%）"}}),a("el-table-column",{attrs:{prop:"4",label:"平稳率"}}),a("el-table-column",{attrs:{prop:"5",label:"振荡指数"}}),a("el-table-column",{attrs:{prop:"6",label:"Mode平均操作数"}}),a("el-table-column",{attrs:{prop:"7",label:"SP平均操作数"}}),a("el-table-column",{attrs:{prop:"8",label:"OP平均操作数"}}),a("el-table-column",{attrs:{prop:"9",label:"总平均操作数"}}),a("el-table-column",{attrs:{prop:"10",label:"OP行程"}}),a("el-table-column",{attrs:{prop:"11",label:"优（%）"}}),a("el-table-column",{attrs:{prop:"12",label:"良（%）"}}),a("el-table-column",{attrs:{prop:"13",label:"中（%）"}}),a("el-table-column",{attrs:{prop:"14",label:"差（%）"}}),a("el-table-column",{attrs:{prop:"15",label:"开环（%）"}})],1)]],2)])},o=[],i=(a("4160"),a("b0c0"),a("159b"),a("90fc")),r=a("6a7a"),s=a("9372"),l=a("55b5"),c=a("ba2b"),u={components:{mycharts:i["default"],cumlateecharts:r["default"],cylinder:l["default"],cricle:c["default"]},data:function(){return{echartsdata1:[],axis:[],echartsdata2:[],tableData:[],tableData1:[],echartsShift:[],echartsShiftData:[],flag:!1,Height:250,compositeScoreTimeWeek:[],loopsTotal:null,avgOperationNum:null,operationNum:null}},computed:{},watch:{$route:function(t,e){var a=sessionStorage.getItem("index");this.getsumdataList(a)}},methods:{getsumdataList:function(t){var e=this;Object(s["c"])(t).then((function(t){t.success?(e.flag=!0,e.loopsTotal=t.loopsTotal,e.avgOperationNum=t.operationNum,e.echartsdata1=t.ratioWeekTrend,e.echartsdata2=t.operationNumTrend,e.axis=t.timeWeek,e.tableData1=t.table,e.operationNum=t.loopsBadNum):e.$message.error(t.msg),console.log(t)}),(function(t){e.$message.error(res.msg),console.log(t)}))},trans:function(t){var e=[];return t.forEach((function(t){t.forEach((function(t,a){var n=e[a]=e[a]||[];n.push(t)}))})),e},tableCellClassName:function(t){var e=t.row,a=(t.column,t.rowIndex,t.columnIndex);return"差"===e.name&&1==a?"error-row":""}},created:function(){var t=sessionStorage.getItem("index");if(t)this.getsumdataList(t);else{var e=JSON.parse(sessionStorage.getItem("menu"));t=e[0].children[0].path,sessionStorage.setItem("index",t),this.getsumdataList(t)}},mounted:function(){}},d=u,f=(a("59ad"),a("2877")),h=Object(f["a"])(d,n,o,!1,null,null,null);e["default"]=h.exports},df7d:function(t,e,a){},e01a:function(t,e,a){"use strict";var n=a("23e7"),o=a("83ab"),i=a("da84"),r=a("5135"),s=a("861d"),l=a("9bf2").f,c=a("e893"),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(f,u);var h=f.prototype=u.prototype;h.constructor=f;var p=h.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(r(d,t))return"";var a=m?e.slice(7,-1):e.replace(g,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:f})}},e342:function(t,e,a){},e58c:function(t,e,a){"use strict";var n=a("fc6a"),o=a("a691"),i=a("50c4"),r=a("a640"),s=a("ae40"),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=r("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),h=u||!d||!f;t.exports=h?function(t){if(u)return c.apply(this,arguments)||0;var e=n(this),a=i(e.length),r=a-1;for(arguments.length>1&&(r=l(r,o(arguments[1]))),r<0&&(r=a+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:c},e5e8:function(t,e,a){},e6f3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"peresult",staticClass:"peresult",attrs:{id:"peresult"}})},o=[],i=(a("b680"),{components:{},props:["bdpdata","title","text"],data:function(){return{}},computed:{},watch:{},methods:{my_charts:function(){for(var t=["#8FCE51","#FBBD01","#FE0001","#d48265","#749f83","#ca8622","#bda29a","#6e7074","#546570"],e=this.$echarts.init(this.$refs.peresult),a=(this.$echarts,this.bdpdata),n=this.title,o=!1,i=0;i<a.length-1;i++)0==a[i]&&(o=!0);var r=[{value:a[6],symbolSize:15}],s={name:"闪动数据",type:"scatter",coordinateSystem:"cartesian2d",data:r,symbolSize:0,large:!0,symbol:"arrow",symbolRotate:"90",symbolOffset:["160%","-80%"],cursor:"pointer",label:{show:!0,position:"right",formatter:function(t){return"OP行程"==n?parseFloat(a[5].toFixed(0)):parseFloat(a[5].toFixed(2))}},itemStyle:{normal:{color:"#91c7ae",shadowBlur:1,shadowColor:"#333"}},zlevel:1},l={title:{text:this.text,top:"2%",textStyle:{fontSize:12}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[this.title],show:!0,axisTick:{show:!1},axisLabel:{interval:0},axisLine:{show:!1}}],yAxis:[{type:"value",show:!1}],series:[{name:"第一区域",type:"bar",stack:"绿色",emphasis:{focus:"series"},itemStyle:{color:t[0]},label:{show:!0,position:"left",formatter:function(t){return 1.1!=t.value?"OP行程"==n?parseFloat(a[0].toFixed(0)):parseFloat(a[0].toFixed(2)):o?0:void 0}},data:[1]},{name:"第二区域",type:"bar",stack:"绿色",emphasis:{focus:"series"},itemStyle:{color:t[0]},data:[1]},{name:"第三区域",type:"bar",stack:"绿色",emphasis:{focus:"series"},itemStyle:{color:t[1]},data:[1]},{name:"第四区域",type:"bar",stack:"绿色",emphasis:{focus:"series"},label:{show:!0,position:"left",formatter:function(t){return 1.1!=t.value?"OP行程"==n?parseFloat(a[4].toFixed(0)):parseFloat(a[4].toFixed(2)):o?0:void 0}},itemStyle:{color:t[2]},barMaxWidth:"30%",data:[1]}]};0!==r.length&&l.series.push(s),e.setOption(l,!0),window.addEventListener("resize",(function(){return e.resize()}))}},created:function(){},mounted:function(){this.my_charts()}}),r=i,s=(a("6934"),a("2877")),l=Object(s["a"])(r,n,o,!1,null,"0047f474",null);e["default"]=l.exports},e8b6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",multiple:!0,limit:t.limitNum,action:t.uploadURL,accept:".csv","auto-upload":!1,"before-upload":t.beforeUploadFile,"on-change":t.fileChange,"on-exceed":t.exceedFile,"on-success":t.handleSuccess,"on-error":t.handleError,"file-list":t.fileList,"on-remove":t.handleRemove,"on-progress":t.progressA}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传CSV文件，且不超过10M")])]),a("br"),a("el-link",{attrs:{href:"http://192.168.1.180:6001/api/LoopInfo/templateDownload?type=quota"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("下载模板"),a("i",{staticClass:"el-icon-download el-icon--right"})])],1),a("el-button",{attrs:{type:"text"}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.btshow,expression:"btshow"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.uploadFile(1)}}},[t._v("保存"),a("i",{staticClass:"el-icon-upload el-icon--right"})]),a("el-button",{attrs:{type:"text"}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.btshow,expression:"btshow"}],attrs:{size:"small",type:"warning"},on:{click:function(e){return t.canceluploadFile()}}},[t._v("取消"),a("i",{staticClass:"el-icon-upload el-icon--right"})]),a("div",{staticClass:"tableStyle"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"LoopName",label:"回路名",width:"180"}}),a("el-table-column",{attrs:{prop:"Description",label:"描述",width:"180"}}),a("el-table-column",{attrs:{prop:"LoopType",label:"回路类型"}}),a("el-table-column",{attrs:{prop:"CompanysName",label:"企业"}}),a("el-table-column",{attrs:{prop:"FactorysName",label:"工厂"}}),a("el-table-column",{attrs:{prop:"DevicesName",label:"装置"}}),a("el-table-column",{attrs:{prop:"UnitsName",label:"单元"}}),a("el-table-column",{attrs:{prop:"PV",label:"PV"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.PVIsEnable?a("span",[t._v(t._s(e.row.PV))]):a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.PV))])]}}])}),a("el-table-column",{attrs:{prop:"SP",label:"SP"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.SPIsEnable?a("span",[t._v(t._s(e.row.SP))]):a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.SP))])]}}])}),a("el-table-column",{attrs:{prop:"OP",label:"OP"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.OPIsEnable?a("span",[t._v(t._s(e.row.OP))]):a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.OP))])]}}])}),a("el-table-column",{attrs:{prop:"Mode",label:"Mode"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.ModeIsEnable?a("span",[t._v(t._s(e.row.Mode))]):a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.Mode))])]}}])})],1)],1)],1)},o=[],i=(a("99af"),a("baa5"),a("d81d"),a("b0c0"),a("d038")),r={components:{},props:["dataId"],data:function(){return{limitNum:1e4,fileList:[],fileData:"",progressPercent:0,progressFlag:!0,tableData:[],file:null,btshow:!1}},computed:{uploadURL:function(){return"http://localhost:53995/api/LoopInfo/onLineLoop"}},watch:{},methods:{exceedFile:function(t,e){this.$message.warning("只能选择 ".concat(this.limitNum," 个文件，当前共选择了 ").concat(t.length+e.length," 个"))},fileChange:function(t,e){this.$emit("showbox",!0)},beforeUploadFile:function(t){console.log("before upload"),console.log(t);var e=t.name.substring(t.name.lastIndexOf(".")+1),a=t.size/1024/1024;"csv"!==e&&this.$message.warning("只能上传后缀是.csv的文件"),a>10&&this.$message.warning("文件大小不得超过10M")},progressA:function(t,e){},handleSuccess:function(t,e,a){this.$message.success("文件上传成功")},handleError:function(t,e,a){this.$message.error("文件上传失败")},canceluploadFile:function(){var t=this;this.$confirm("是否确认取消保存？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btshow=!1,t.tableData=[],t.$message({type:"success",message:"已取消保存"})})).catch((function(){t.$message({type:"info",message:"已取消"})}))},uploadFile:function(t){var e=this;this.file;if(0==t)if(0===this.$refs.upload.uploadFiles.length)this.$message.warning("请上传文件");else{this.file=this.$refs.upload.uploadFiles.pop().raw,this.fileData=new FormData,this.$refs.upload.submit(),this.fileData.append("file",this.file),this.fileData.append("deviceID",this.dataId),this.fileData.append("flag",t);var a={onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.progressPercent=a}};Object(i["a"])(this.fileData,a).then((function(t){e.tableData=t.data.loopInfoList,console.log(t),e.$message.success("选择成功,请核实！")}),(function(t){console.log(t)}))}else{this.fileData=new FormData,this.$refs.upload.submit(),this.fileData.append("file",this.file),this.fileData.append("deviceID",this.dataId),this.fileData.append("flag",t);var n={onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.progressPercent=a}},o="是否确认保存？",r=this.tableData;0!==r.length&&r.map((function(t,e){1==t.PVIsEnable&&(o="部分回路信息有误,是否确认保存？")})),this.$confirm(o,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["a"])(e.fileData,n).then((function(t){e.tableData=t.data.loopInfoList,console.log(t),t.data.success?e.$message.success(t.data.msg):e.$message.error(t.data.msg)}),(function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))}},handleRemove:function(t){this.$refs.upload.abort(),this.$message({message:"成功移除"+t.name,type:"success"})}},created:function(){},mounted:function(){}},s=r,l=(a("a1de"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,"17a0fa9e",null);e["default"]=c.exports},e94f:function(t,e,a){"use strict";var n=a("f1b9"),o=a.n(n);o.a},ed14:function(t,e,a){},f1b9:function(t,e,a){},f42a:function(t,e,a){"use strict";var n=a("3634"),o=a.n(n);o.a},f595:function(t,e,a){},f64a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden"}},[a("div",{directives:[{name:"scrollBar",rawName:"v-scrollBar"}],staticClass:"about",staticStyle:{height:"99%",overflow:"auto",position:"relative"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"",data:t.tableData}},[a("el-table-column",{attrs:{prop:"LoopName",label:"回路名","min-width":"8"}}),a("el-table-column",{attrs:{prop:"Description",label:"描述","min-width":"8"}}),a("el-table-column",{attrs:{prop:"Remark1",label:"企业","min-width":"8"}}),a("el-table-column",{attrs:{prop:"Remark2",label:"工厂","min-width":"10"}}),a("el-table-column",{attrs:{prop:"Remark3",label:"装置","min-width":"10"}}),a("el-table-column",{attrs:{prop:"Remark4",label:"单元","min-width":"10"}}),a("el-table-column",{attrs:{prop:"CreateTime",label:"上传时间","min-width":"10",formatter:t.changeCTime}}),a("el-table-column",{attrs:{prop:"UpdateTime",label:"更新时间","min-width":"10",formatter:t.changeCTime1}}),a("el-table-column",{attrs:{label:"操作","min-width":"10"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.$index,e.row,t.tableData)}}},[t._v("移除")])]}}])})],1),a("el-pagination",{staticClass:"msg-pagination-container",attrs:{background:t.isBackground,"current-page":t.formInline.currentPage,"page-sizes":[10,50,100,150],"page-size":t.formInline.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.formInline,"currentPage",e)},"update:current-page":function(e){return t.$set(t.formInline,"currentPage",e)}}})],1)])},o=[],i=(a("4de4"),a("a434"),a("e7c0")),r={components:{},data:function(){return{isBackground:!0,tableData:[],formInline:{currentPage:1,pageSize:10},total:null}},computed:{},watch:{},methods:{changeCTime:function(t,e,a,n){if(t.CreateTime){var o=t.CreateTime;o=new Date(o);var i=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),l=o.getHours(),c=o.getMinutes(),u=o.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,i+"-"+r+"-"+s+" "+l+":"+c+":"+u}},changeCTime1:function(t,e,a,n){if(t.UpdateTime){var o=t.UpdateTime;o=new Date(o);var i=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),l=o.getHours(),c=o.getMinutes(),u=o.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,i+"-"+r+"-"+s+" "+l+":"+c+":"+u}},tableDatalist:function(){var t=this,e=JSON.stringify(this.formInline);Object(i["k"])(e).then((function(e){0!==e.loopInfoList.length&&(t.tableData=e.loopInfoList),t.total=e.total,t.formInline.pageSize=e.pageSize,t.currentPage=e.currentPage,console.log(e)}),(function(t){console.log(t)}))},handleSizeChange:function(t){this.formInline.currentPage=1,this.formInline.pageSize=t,this.tableDatalist(),this.tableData=this.tableData.filter((function(e,a){return a<t}))},handleCurrentChange:function(t){this.formInline.currentPage=t,console.log(this.formInline),this.tableDatalist()},deleteRow:function(t,e,a){var n=this;this.$confirm("此操作将永久删除该回路信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o=JSON.stringify(e),r=n;Object(i["d"])(o).then((function(e){e.success?(a.splice(t,1),r.$message({type:"success",message:e.msg})):r.$message({type:"error",message:e.msg})})),console.log(t),console.log(e)})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))}},created:function(){},mounted:function(){this.tableDatalist()}},s=r,l=(a("9892"),a("2877")),c=Object(l["a"])(s,n,o,!1,null,null,null);e["default"]=c.exports},f74b:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return i}));var n=a("284b");function o(){return Object(n["a"])({url:"api/Navigation/getMenuTree"})}function i(){return Object(n["a"])({url:"api/Navigation/getRightsMenuTree"})}},f777:function(t,e,a){"use strict";var n=a("7794"),o=a.n(n);o.a}}]);